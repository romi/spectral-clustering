
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spectral Clustering documentation.">
      
      
        <meta name="author" content="ROMI Team">
      
      
        <link rel="canonical" href="https://romi.github.io/spectral-clustering/reference/spectral_clustering/evaluation/">
      
      
        <link rel="prev" href="../display_and_export/">
      
      
        <link rel="next" href="../point_cloud_graph/">
      
      
      <link rel="icon" href="../../../assets/images/ROMI_ICON_green.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>evaluation - SpectralClustering</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spectral_clustering.evaluation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://romi.github.io/spectral-clustering/" title="SpectralClustering" class="md-header__button md-logo" aria-label="SpectralClustering" data-md-component="logo">
      
  <img src="../../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SpectralClustering
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              evaluation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/romi/spectral-clustering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../dev/" class="md-tabs__link">
        
  
    
  
  Developers

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Reference API

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://romi.github.io/spectral-clustering/" title="SpectralClustering" class="md-nav__button md-logo" aria-label="SpectralClustering" data-md-component="logo">
      
  <img src="../../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    SpectralClustering
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/romi/spectral-clustering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    spectral_clustering
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            spectral_clustering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Segmentation_Dijkstra_litt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Segmentation_Dijkstra_litt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Viterbi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viterbi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../branching_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    branching_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constraint_program/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constraint_program
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dijkstra_segmentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dijkstra_segmentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../display_and_export/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    display_and_export
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    evaluation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    evaluation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.change_labels" class="md-nav__link">
    <span class="md-ellipsis">
      change_labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.compute_recall_precision_IoU" class="md-nav__link">
    <span class="md-ellipsis">
      compute_recall_precision_IoU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.compute_recall_precision_IoU_real_plants" class="md-nav__link">
    <span class="md-ellipsis">
      compute_recall_precision_IoU_real_plants
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.count_number_limbs_apex_etc" class="md-nav__link">
    <span class="md-ellipsis">
      count_number_limbs_apex_etc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.downsample_pcd" class="md-nav__link">
    <span class="md-ellipsis">
      downsample_pcd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.export_each_element_point_cloud" class="md-nav__link">
    <span class="md-ellipsis">
      export_each_element_point_cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.length_main_stem" class="md-nav__link">
    <span class="md-ellipsis">
      length_main_stem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.resegment_apex_for_eval_and_export" class="md-nav__link">
    <span class="md-ellipsis">
      resegment_apex_for_eval_and_export
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../point_cloud_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    point_cloud_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotient_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotient_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotientgraph_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotientgraph_operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotientgraph_semantics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotientgraph_semantics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segmentation_algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    segmentation_algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../similarity_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    similarity_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../split_and_merge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    split_and_merge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topological_energy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    topological_energy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_16" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_16" id="__nav_3_1_16_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_16">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/angle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    angle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/size/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    size
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/sparse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sparse
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.change_labels" class="md-nav__link">
    <span class="md-ellipsis">
      change_labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.compute_recall_precision_IoU" class="md-nav__link">
    <span class="md-ellipsis">
      compute_recall_precision_IoU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.compute_recall_precision_IoU_real_plants" class="md-nav__link">
    <span class="md-ellipsis">
      compute_recall_precision_IoU_real_plants
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.count_number_limbs_apex_etc" class="md-nav__link">
    <span class="md-ellipsis">
      count_number_limbs_apex_etc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.downsample_pcd" class="md-nav__link">
    <span class="md-ellipsis">
      downsample_pcd
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.export_each_element_point_cloud" class="md-nav__link">
    <span class="md-ellipsis">
      export_each_element_point_cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.length_main_stem" class="md-nav__link">
    <span class="md-ellipsis">
      length_main_stem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.evaluation.resegment_apex_for_eval_and_export" class="md-nav__link">
    <span class="md-ellipsis">
      resegment_apex_for_eval_and_export
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>evaluation</h1>

<div class="doc doc-object doc-module">



<a id="spectral_clustering.evaluation"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.change_labels" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">change_labels</span>


<a href="#spectral_clustering.evaluation.change_labels" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>change_labels(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</span>, name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>, class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>, class_apex<span style="color: #666">=4</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Modifies the semantic labels of a 3D point cloud dataset based on predefined class mappings and saves the updated
labels to a new file.</p>
<p>This function loads a set of 3D coordinates along with their semantic class labels from a text file. It updates the
labels based on a mapping defined by the parameters and writes the modified labels into a new output file corresponding
to the provided model name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>file_semantic_results</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the input file containing the 3D point cloud coordinates and semantic labels. The file should have
comma-separated values with four columns: x-coordinates, y-coordinates, z-coordinates, and semantic labels.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name_model</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;name_model&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>A string used for naming the output file containing the modified labels.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_limb</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>The numeric class label representing "limb" in the dataset.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_mainstem</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>3</code>
)
          –
          <div class="doc-md-description">
            <p>The numeric class label representing "mainstem" in the dataset.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_petiol</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>The numeric class label representing "petiol" in the dataset.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_branch</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>6</code>
)
          –
          <div class="doc-md-description">
            <p>The numeric class label representing "branch" in the dataset.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_apex</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>The numeric class label representing "apex" in the dataset.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">435</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">436</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">437</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">438</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">439</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">440</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">441</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">442</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">443</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">444</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">445</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">446</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">447</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">448</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">449</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">450</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">451</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">452</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">453</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">454</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">455</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">456</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">457</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">458</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">459</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">460</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">461</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">462</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">463</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">464</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">465</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">466</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">467</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">468</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">469</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">470</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">471</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">472</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">473</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">474</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">475</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">476</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">477</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">478</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">change_labels</span>(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>,
                  name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>,
                  class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>, class_apex<span style="color: #666">=4</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Modifies the semantic labels of a 3D point cloud dataset based on predefined class mappings and saves the updated</span>
<span style="color: #BA2121; font-style: italic">    labels to a new file.</span>

<span style="color: #BA2121; font-style: italic">    This function loads a set of 3D coordinates along with their semantic class labels from a text file. It updates the</span>
<span style="color: #BA2121; font-style: italic">    labels based on a mapping defined by the parameters and writes the modified labels into a new output file corresponding</span>
<span style="color: #BA2121; font-style: italic">    to the provided model name.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    file_semantic_results : str</span>
<span style="color: #BA2121; font-style: italic">        Path to the input file containing the 3D point cloud coordinates and semantic labels. The file should have</span>
<span style="color: #BA2121; font-style: italic">        comma-separated values with four columns: x-coordinates, y-coordinates, z-coordinates, and semantic labels.</span>
<span style="color: #BA2121; font-style: italic">    name_model : str</span>
<span style="color: #BA2121; font-style: italic">        A string used for naming the output file containing the modified labels.</span>
<span style="color: #BA2121; font-style: italic">    class_limb : int</span>
<span style="color: #BA2121; font-style: italic">        The numeric class label representing &quot;limb&quot; in the dataset.</span>
<span style="color: #BA2121; font-style: italic">    class_mainstem : int</span>
<span style="color: #BA2121; font-style: italic">        The numeric class label representing &quot;mainstem&quot; in the dataset.</span>
<span style="color: #BA2121; font-style: italic">    class_petiol : int</span>
<span style="color: #BA2121; font-style: italic">        The numeric class label representing &quot;petiol&quot; in the dataset.</span>
<span style="color: #BA2121; font-style: italic">    class_branch : int</span>
<span style="color: #BA2121; font-style: italic">        The numeric class label representing &quot;branch&quot; in the dataset.</span>
<span style="color: #BA2121; font-style: italic">    class_apex : int</span>
<span style="color: #BA2121; font-style: italic">        The numeric class label representing &quot;apex&quot; in the dataset.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    xc, yc, zc, labelsc <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_semantic_results, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(labelsc)):
        <span style="color: #008000; font-weight: bold">if</span> labelsc[i] <span style="color: #666">==</span> class_branch:
            new <span style="color: #666">=</span> class_mainstem
            labelsc[i] <span style="color: #666">=</span> new
        <span style="color: #008000; font-weight: bold">elif</span> labelsc[i] <span style="color: #666">==</span> class_apex:
            new <span style="color: #666">=</span> class_limb
            labelsc[i] <span style="color: #666">=</span> new
        <span style="color: #008000; font-weight: bold">elif</span> labelsc[i] <span style="color: #666">==</span> class_petiol:
            new <span style="color: #666">=</span> class_mainstem
            labelsc[i] <span style="color: #666">=</span> new

    label_final <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xc[:, np<span style="color: #666">.</span>newaxis], yc[:, np<span style="color: #666">.</span>newaxis], zc[:, np<span style="color: #666">.</span>newaxis], labelsc[:, np<span style="color: #666">.</span>newaxis]),
                                 axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Label_final&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, label_final, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.compute_recall_precision_IoU" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_recall_precision_IoU</span>


<a href="#spectral_clustering.evaluation.compute_recall_precision_IoU" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_recall_precision_IoU(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</span>, file_ground_truth_coord<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/cheno_virtuel_coordinates.txt&#39;</span>, file_ground_truth_labels<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/cheno_virtuel_labels.txt&#39;</span>, name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>, limb_gt<span style="color: #666">=2</span>, cotyledon_gt<span style="color: #666">=3</span>, main_stem_gt<span style="color: #666">=1</span>, petiole_gt<span style="color: #666">=4</span>, class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>, class_apex<span style="color: #666">=4</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute recall, precision, and IoU (Intersection over Union) metrics for evaluating the
semantic segmentation model's performance. It involves comparing semantic segmentation
results produced by the model with ground truth labels, adjusts the label mappings, and
computes various performance metrics like recall, precision, IoU, overall accuracy,
mean IoU, and F1-score. Additionally, confusion matrices and evaluation results
are saved to output text files.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>file_semantic_results</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#34;script/pcd_viterbi_classsemantic_final.txt&#34;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the file containing semantic segmentation results, with x, y, z
coordinates and predicted labels.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>file_ground_truth_coord</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#34;script/cheno_virtuel_coordinates.txt&#34;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the file containing ground truth 3D coordinates x, y, and z.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>file_ground_truth_labels</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#34;script/cheno_virtuel_labels.txt&#34;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the file containing ground truth labels corresponding to the coordinates.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name_model</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;name_model&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Base name for output files to store results.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>limb_gt</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>2</code>
)
          –
          <div class="doc-md-description">
            <p>Ground truth label value for the limb.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>cotyledon_gt</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>3</code>
)
          –
          <div class="doc-md-description">
            <p>Ground truth label value for the cotyledon.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>main_stem_gt</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>Ground truth label value for the main stem.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>petiole_gt</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>Ground truth label value for the petiole.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_limb</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>Prediction label value for the limb.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_mainstem</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>3</code>
)
          –
          <div class="doc-md-description">
            <p>Prediction label value for the main stem.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_petiol</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>Prediction label value for the petiole.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_branch</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>6</code>
)
          –
          <div class="doc-md-description">
            <p>Prediction label value for the branch.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_apex</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>Prediction label value for the apex.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError">FileNotFoundError</a></code>
            –
          <div class="doc-md-description">
            <p>If any of the input file paths does not exist.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If the data in the provided files is not in the expected format.</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <p>The procedure saves the following output files:
    - 'Ground_truth_virtual<code>name_model</code>.txt': Adjusted ground truth data.
    - 'Ground_truth_final<code>name_model</code>.txt': Final ground truth labels adjusted.
    - 'Label_final<code>name_model</code>.txt': Predicted labels adjusted.
    - '<code>name_model</code>scikit_cm': Confusion matrix.
    - '<code>name_model</code>eval.txt': Evaluation metrics (TP, FP, FN, Recall, Precision, IoU, etc.).
- The function ensures that predicted labels are remapped to align with ground truth
  labels before metric computation.
- Mean IoU is calculated as the average IoU across all unique ground truth labels.
- Accuracy and F1-score are computed using standard metrics for binary/multi-class
  classification.
- The confusion matrix is generated using the sklearn <code>confusion_matrix</code> function,
  and saved to a file.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">248</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">249</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">250</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">251</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">252</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">253</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">254</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">255</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">256</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">257</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">258</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">259</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">260</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">261</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">262</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">263</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">264</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">265</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">266</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">267</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">268</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">269</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">270</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">271</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">272</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">273</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">274</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">275</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">276</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">277</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">278</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">279</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">280</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">281</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">282</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">283</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">284</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">285</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">286</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">287</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">288</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">289</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">290</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">291</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">292</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">293</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">294</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">295</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">296</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">297</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">298</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">299</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">300</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">301</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">302</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">303</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">304</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">305</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">306</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">307</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">308</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">309</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">310</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">311</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">312</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">313</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">314</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">315</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">316</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">317</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">318</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">319</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">320</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">321</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">322</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">323</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">324</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">325</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">326</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">327</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">328</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">329</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">330</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">331</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">332</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">333</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">334</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">335</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">336</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">337</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">338</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">339</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">340</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">341</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">342</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">343</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">344</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">345</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">346</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">347</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">348</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">349</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">350</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">351</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">352</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">353</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">354</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">355</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">356</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">357</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">358</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">359</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">360</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">361</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">362</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">363</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">364</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">365</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">366</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">367</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">368</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">369</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">370</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">371</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">372</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">373</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">374</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">375</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">376</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">377</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">378</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">379</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">380</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">381</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">382</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">383</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">384</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">385</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">386</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">387</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">388</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">389</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">390</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">391</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">392</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">393</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">394</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">395</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">396</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">397</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">398</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">399</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">400</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">401</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">402</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">403</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">404</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">405</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">406</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">407</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">408</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">409</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">410</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">411</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">412</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">413</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">414</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">415</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">416</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">417</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">418</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">419</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">420</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">421</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">422</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">423</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">424</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">425</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">426</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">427</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">428</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">429</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">430</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">431</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">432</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_recall_precision_IoU</span>(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>,
                                 file_ground_truth_coord<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/cheno_virtuel_coordinates.txt&quot;</span>,
                                 file_ground_truth_labels<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/cheno_virtuel_labels.txt&quot;</span>,
                                 name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>,
                                 limb_gt<span style="color: #666">=2</span>, cotyledon_gt<span style="color: #666">=3</span>, main_stem_gt<span style="color: #666">=1</span>, petiole_gt<span style="color: #666">=4</span>,
                                 class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>, class_apex<span style="color: #666">=4</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Compute recall, precision, and IoU (Intersection over Union) metrics for evaluating the</span>
<span style="color: #BA2121; font-style: italic">    semantic segmentation model&#39;s performance. It involves comparing semantic segmentation</span>
<span style="color: #BA2121; font-style: italic">    results produced by the model with ground truth labels, adjusts the label mappings, and</span>
<span style="color: #BA2121; font-style: italic">    computes various performance metrics like recall, precision, IoU, overall accuracy,</span>
<span style="color: #BA2121; font-style: italic">    mean IoU, and F1-score. Additionally, confusion matrices and evaluation results</span>
<span style="color: #BA2121; font-style: italic">    are saved to output text files.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    file_semantic_results : str, default=&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>
<span style="color: #BA2121; font-style: italic">        Path to the file containing semantic segmentation results, with x, y, z</span>
<span style="color: #BA2121; font-style: italic">        coordinates and predicted labels.</span>
<span style="color: #BA2121; font-style: italic">    file_ground_truth_coord : str, default=&quot;script/cheno_virtuel_coordinates.txt&quot;</span>
<span style="color: #BA2121; font-style: italic">        Path to the file containing ground truth 3D coordinates x, y, and z.</span>
<span style="color: #BA2121; font-style: italic">    file_ground_truth_labels : str, default=&quot;script/cheno_virtuel_labels.txt&quot;</span>
<span style="color: #BA2121; font-style: italic">        Path to the file containing ground truth labels corresponding to the coordinates.</span>
<span style="color: #BA2121; font-style: italic">    name_model : str, default=&#39;name_model&#39;</span>
<span style="color: #BA2121; font-style: italic">        Base name for output files to store results.</span>
<span style="color: #BA2121; font-style: italic">    limb_gt : int, default=2</span>
<span style="color: #BA2121; font-style: italic">        Ground truth label value for the limb.</span>
<span style="color: #BA2121; font-style: italic">    cotyledon_gt : int, default=3</span>
<span style="color: #BA2121; font-style: italic">        Ground truth label value for the cotyledon.</span>
<span style="color: #BA2121; font-style: italic">    main_stem_gt : int, default=1</span>
<span style="color: #BA2121; font-style: italic">        Ground truth label value for the main stem.</span>
<span style="color: #BA2121; font-style: italic">    petiole_gt : int, default=4</span>
<span style="color: #BA2121; font-style: italic">        Ground truth label value for the petiole.</span>
<span style="color: #BA2121; font-style: italic">    class_limb : int, default=1</span>
<span style="color: #BA2121; font-style: italic">        Prediction label value for the limb.</span>
<span style="color: #BA2121; font-style: italic">    class_mainstem : int, default=3</span>
<span style="color: #BA2121; font-style: italic">        Prediction label value for the main stem.</span>
<span style="color: #BA2121; font-style: italic">    class_petiol : int, default=5</span>
<span style="color: #BA2121; font-style: italic">        Prediction label value for the petiole.</span>
<span style="color: #BA2121; font-style: italic">    class_branch : int, default=6</span>
<span style="color: #BA2121; font-style: italic">        Prediction label value for the branch.</span>
<span style="color: #BA2121; font-style: italic">    class_apex : int, default=4</span>
<span style="color: #BA2121; font-style: italic">        Prediction label value for the apex.</span>

<span style="color: #BA2121; font-style: italic">    Raises</span>
<span style="color: #BA2121; font-style: italic">    ------</span>
<span style="color: #BA2121; font-style: italic">    FileNotFoundError</span>
<span style="color: #BA2121; font-style: italic">        If any of the input file paths does not exist.</span>

<span style="color: #BA2121; font-style: italic">    ValueError</span>
<span style="color: #BA2121; font-style: italic">        If the data in the provided files is not in the expected format.</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    The procedure saves the following output files:</span>
<span style="color: #BA2121; font-style: italic">        - &#39;Ground_truth_virtual`name_model`.txt&#39;: Adjusted ground truth data.</span>
<span style="color: #BA2121; font-style: italic">        - &#39;Ground_truth_final`name_model`.txt&#39;: Final ground truth labels adjusted.</span>
<span style="color: #BA2121; font-style: italic">        - &#39;Label_final`name_model`.txt&#39;: Predicted labels adjusted.</span>
<span style="color: #BA2121; font-style: italic">        - &#39;`name_model`scikit_cm&#39;: Confusion matrix.</span>
<span style="color: #BA2121; font-style: italic">        - &#39;`name_model`eval.txt&#39;: Evaluation metrics (TP, FP, FN, Recall, Precision, IoU, etc.).</span>
<span style="color: #BA2121; font-style: italic">    - The function ensures that predicted labels are remapped to align with ground truth</span>
<span style="color: #BA2121; font-style: italic">      labels before metric computation.</span>
<span style="color: #BA2121; font-style: italic">    - Mean IoU is calculated as the average IoU across all unique ground truth labels.</span>
<span style="color: #BA2121; font-style: italic">    - Accuracy and F1-score are computed using standard metrics for binary/multi-class</span>
<span style="color: #BA2121; font-style: italic">      classification.</span>
<span style="color: #BA2121; font-style: italic">    - The confusion matrix is generated using the sklearn `confusion_matrix` function,</span>
<span style="color: #BA2121; font-style: italic">      and saved to a file.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    xc, yc, zc, labelsc <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_semantic_results, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    xt, yt, zt <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_ground_truth_coord, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    labelst <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_ground_truth_labels, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    exp <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], labelst[:, np<span style="color: #666">.</span>newaxis]), axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Ground_truth_virtual&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, exp, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)

    <span style="color: #3D7B7B; font-style: italic"># creation d&#39;une liste ground truth correspondant aux labels.</span>
    label_gt_end <span style="color: #666">=</span> copy<span style="color: #666">.</span>deepcopy(labelst)
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(label_gt_end)):
        <span style="color: #008000; font-weight: bold">if</span> label_gt_end[i] <span style="color: #666">==</span> limb_gt:
            new <span style="color: #666">=</span> class_limb
        <span style="color: #008000; font-weight: bold">elif</span> label_gt_end[i] <span style="color: #666">==</span> main_stem_gt:
            new <span style="color: #666">=</span> class_mainstem
        <span style="color: #008000; font-weight: bold">elif</span> label_gt_end[i] <span style="color: #666">==</span> petiole_gt:
            new <span style="color: #666">=</span> class_petiol
        <span style="color: #3D7B7B; font-style: italic"># elif label_gt_end[i] == petiole_gt:</span>
        <span style="color: #3D7B7B; font-style: italic">#    new = class_mainstem</span>
        <span style="color: #008000; font-weight: bold">elif</span> label_gt_end[i] <span style="color: #666">==</span> cotyledon_gt:
            new <span style="color: #666">=</span> class_limb
        label_gt_end[i] <span style="color: #666">=</span> new

    gt_final <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], label_gt_end[:, np<span style="color: #666">.</span>newaxis]),
                              axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Ground_truth_final&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, gt_final, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)
    <span style="color: #3D7B7B; font-style: italic"># ici j&#39;ai trop de différents labels par rapport à la vérité terrain, a enlever si c&#39;est ok entre les deux</span>

    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(labelsc)):
        <span style="color: #008000; font-weight: bold">if</span> labelsc[i] <span style="color: #666">==</span> class_branch:
            new <span style="color: #666">=</span> class_mainstem
            labelsc[i] <span style="color: #666">=</span> new
        <span style="color: #008000; font-weight: bold">elif</span> labelsc[i] <span style="color: #666">==</span> class_apex:
            new <span style="color: #666">=</span> class_limb
            labelsc[i] <span style="color: #666">=</span> new
        <span style="color: #3D7B7B; font-style: italic"># elif labelsc[i] == class_petiol:</span>
        <span style="color: #3D7B7B; font-style: italic">#    new = class_mainstem</span>
        <span style="color: #3D7B7B; font-style: italic">#    labelsc[i] = new</span>

    label_final <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], labelsc[:, np<span style="color: #666">.</span>newaxis]),
                                 axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Label_final&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, label_final, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)

    mres <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">4</span>, <span style="color: #666">8</span>))
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 1] = &#39;TP&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 2] = &#39;FN&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 3] = &#39;FP&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 4] = &#39;Re&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 5] = &#39;Pr&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 6] = &#39;IoU&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># faire une vérification que les coordoonnées correspondent ?</span>
    TP <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    FN <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    FP <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    TN <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    a <span style="color: #666">=</span> <span style="color: #666">1</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
        TP[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        FN[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        FP[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        TN[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        mres[a, <span style="color: #666">0</span>] <span style="color: #666">=</span> i
        a <span style="color: #666">+=</span> <span style="color: #666">1</span>

    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(labelsc)):
        labelgiven <span style="color: #666">=</span> labelsc[i]
        labeltruth <span style="color: #666">=</span> label_gt_end[i]
        <span style="color: #008000; font-weight: bold">if</span> labelsc[i] <span style="color: #666">==</span> label_gt_end[i]:
            TP[labelgiven] <span style="color: #666">+=</span> <span style="color: #666">1</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            FP[labelgiven] <span style="color: #666">+=</span> <span style="color: #666">1</span>
            FN[labeltruth] <span style="color: #666">+=</span> <span style="color: #666">1</span>
        <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
            <span style="color: #008000; font-weight: bold">if</span> c <span style="color: #666">!=</span> labelsc[i] <span style="color: #A2F; font-weight: bold">and</span> c <span style="color: #666">!=</span> label_gt_end[i]:
                TN[c] <span style="color: #666">+=</span> <span style="color: #666">1</span>

    Re <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    Pr <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    IoU <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    TPtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    FNtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    FPtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    TNtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    MIoU <span style="color: #666">=</span> <span style="color: #666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
        Re[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FN[i])
        Pr[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FP[i])
        IoU[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FN[i] <span style="color: #666">+</span> FP[i])
        TPtot <span style="color: #666">+=</span> TP[i]
        FNtot <span style="color: #666">+=</span> FN[i]
        FPtot <span style="color: #666">+=</span> FP[i]
        TNtot <span style="color: #666">+=</span> TN[i]
        MIoU <span style="color: #666">+=</span> IoU[i]

    MIoU <span style="color: #666">/=</span> <span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end))
    totalacc <span style="color: #666">=</span> (TPtot <span style="color: #666">+</span> TNtot) <span style="color: #666">/</span> (TPtot <span style="color: #666">+</span> TNtot <span style="color: #666">+</span> FPtot <span style="color: #666">+</span> FNtot)
    f1_score <span style="color: #666">=</span> TPtot <span style="color: #666">/</span> (TPtot <span style="color: #666">+</span> <span style="color: #666">0.5</span> <span style="color: #666">*</span> (FNtot <span style="color: #666">+</span> FPtot))

    a <span style="color: #666">=</span> <span style="color: #666">1</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
        mres[a, <span style="color: #666">1</span>] <span style="color: #666">=</span> TP[i]
        mres[a, <span style="color: #666">2</span>] <span style="color: #666">=</span> FN[i]
        mres[a, <span style="color: #666">3</span>] <span style="color: #666">=</span> FP[i]
        mres[a, <span style="color: #666">4</span>] <span style="color: #666">=</span> TN[i]
        mres[a, <span style="color: #666">5</span>] <span style="color: #666">=</span> Re[i]
        mres[a, <span style="color: #666">6</span>] <span style="color: #666">=</span> Pr[i]
        mres[a, <span style="color: #666">7</span>] <span style="color: #666">=</span> IoU[i]
        a <span style="color: #666">+=</span> <span style="color: #666">1</span>
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> TPtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">2</span>] <span style="color: #666">=</span> FNtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">3</span>] <span style="color: #666">=</span> FPtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">4</span>] <span style="color: #666">=</span> TNtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">7</span>] <span style="color: #666">=</span> MIoU
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">2</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> totalacc
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end)) <span style="color: #666">+</span> <span style="color: #666">3</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> f1_score

    cm <span style="color: #666">=</span> metrics<span style="color: #666">.</span>confusion_matrix(label_gt_end, labelsc)
    np<span style="color: #666">.</span>savetxt(name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;scikit_cm&#39;</span>, cm, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%.4e</span><span style="color: #BA2121">&#39;</span>)
    np<span style="color: #666">.</span>savetxt(name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;eval.txt&#39;</span>, mres, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%.4e</span><span style="color: #BA2121">&#39;</span>)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.compute_recall_precision_IoU_real_plants" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_recall_precision_IoU_real_plants</span>


<a href="#spectral_clustering.evaluation.compute_recall_precision_IoU_real_plants" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_recall_precision_IoU_real_plants(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</span>, file_instance_results<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</span>, file_ground_truth<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/cheno_virtuel_coordinates.txt&#39;</span>, name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name&#39;</span>, class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>, class_apex<span style="color: #666">=4</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Computes various evaluation metrics such as recall, precision, IoU (Intersection over Union),
and other classification, clustering, and region-based measures, for a 3D plant dataset that is
segmented using semantic and instance labels compared against ground truth data.</p>
<p>This function takes file paths of input data (semantic results, instance results, and ground truth),
model names, and specific classification category IDs, and performs the following tasks:
- Reads the input files and processes them into semantic and instance labels.
- Adjusts and relabels certain class labels based on predefined thresholds.
- Computes various metrics including TP, FP, FN, TN, precision, recall, IoU, and adjusts confusion matrices.
- Outputs standardized data formats for the ground truth, predicted labels, and summary evaluation
  metrics to files.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>file_semantic_results</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the input file containing semantic classification results.
Defaults to "script/pcd_viterbi_classsemantic_final.txt".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>file_instance_results</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the input file containing instance classification results.
Defaults to "script/pcd_viterbi_classsemantic_final.txt".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>file_ground_truth</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;script/cheno_virtuel_coordinates.txt&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Path to the input file containing ground truth coordinate data.
Defaults to "script/cheno_virtuel_coordinates.txt".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name_model</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;name&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Name of the model being processed and evaluated. Outputs will include this name in their filenames.
Defaults to "name".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_limb</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>ID value representing the limb class (used for relabeling). Defaults to 1.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_mainstem</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>3</code>
)
          –
          <div class="doc-md-description">
            <p>ID value representing the main stem class (used for relabeling). Defaults to 3.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_petiol</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>ID value representing the petiol class (used for relabeling). Defaults to 5.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_branch</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>6</code>
)
          –
          <div class="doc-md-description">
            <p>ID value representing the branch class (used for relabeling). Defaults to 6.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_apex</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>ID value representing the apex class (used for relabeling). Defaults to 4.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>The function outputs several files containing processed data and results:</li>
<li>Ground truth in standardized format with predicted classifications relabeled.</li>
<li>Metrics related to clustering and classification performance, including precision, recall,
    IoU, confusion matrix, and an F1 score.</li>
<li>
<p>Summary results are written to evaluation files using the provided <code>name_model</code>.</p>
</li>
<li>
<p>All thresholds for relabeling are predefined and hardcoded within the function for specific
  plant segmentation studies. Adjust these thresholds carefully if applying the function to
  datasets with different formats or labeling conventions.</p>
</li>
<li>
<p>The function leverages scikit-learn's metrics module for the computation of clustering and
  classification scores.</p>
</li>
<li>
<p>Outputs are saved in plaintext or numerical formats (e.g., <code>.txt</code>), making them suitable for
  importing into statistical or visualization tools for downstream analysis.</p>
</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">506</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">507</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">508</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">509</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">510</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">511</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">512</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">513</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">514</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">515</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">516</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">517</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">518</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">519</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">520</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">521</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">522</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">523</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">524</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">525</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">526</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">527</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">528</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">529</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">530</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">531</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">532</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">533</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">534</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">535</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">536</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">537</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">538</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">539</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">540</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">541</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">542</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">543</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">544</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">545</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">546</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">547</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">548</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">549</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">550</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">551</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">552</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">553</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">554</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">555</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">556</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">557</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">558</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">559</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">560</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">561</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">562</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">563</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">564</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">565</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">566</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">567</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">568</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">569</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">570</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">571</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">572</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">573</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">574</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">575</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">576</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">577</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">578</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">579</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">580</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">581</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">582</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">583</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">584</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">585</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">586</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">587</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">588</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">589</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">590</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">591</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">592</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">593</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">594</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">595</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">596</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">597</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">598</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">599</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">600</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">601</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">602</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">603</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">604</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">605</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">606</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">607</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">608</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">609</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">610</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">611</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">612</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">613</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">614</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">615</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">616</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">617</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">618</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">619</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">620</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">621</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">622</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">623</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">624</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">625</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">626</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">627</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">628</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">629</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">630</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">631</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">632</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">633</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">634</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">635</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">636</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">637</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">638</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">639</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">640</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">641</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">642</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">643</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">644</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">645</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">646</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">647</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">648</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">649</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">650</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">651</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">652</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">653</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">654</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">655</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">656</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">657</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">658</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">659</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">660</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">661</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">662</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">663</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">664</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">665</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">666</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">667</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">668</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">669</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">670</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">671</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">672</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">673</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">674</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">675</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">676</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">677</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">678</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">679</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">680</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">681</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">682</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">683</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">684</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">685</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">686</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">687</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">688</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">689</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">690</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">691</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">692</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">693</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">694</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">695</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">696</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">697</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">698</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">699</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">700</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">701</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">702</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">703</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">704</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">705</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">706</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">707</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">708</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">709</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">710</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">711</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">712</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">713</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">714</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_recall_precision_IoU_real_plants</span>(file_semantic_results<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>,
                                             file_instance_results<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>,
                                             file_ground_truth<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/cheno_virtuel_coordinates.txt&quot;</span>,
                                             name_model<span style="color: #666">=</span><span style="color: #BA2121">&quot;name&quot;</span>,
                                             class_limb<span style="color: #666">=1</span>, class_mainstem<span style="color: #666">=3</span>, class_petiol<span style="color: #666">=5</span>, class_branch<span style="color: #666">=6</span>,
                                             class_apex<span style="color: #666">=4</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Computes various evaluation metrics such as recall, precision, IoU (Intersection over Union),</span>
<span style="color: #BA2121; font-style: italic">    and other classification, clustering, and region-based measures, for a 3D plant dataset that is</span>
<span style="color: #BA2121; font-style: italic">    segmented using semantic and instance labels compared against ground truth data.</span>

<span style="color: #BA2121; font-style: italic">    This function takes file paths of input data (semantic results, instance results, and ground truth),</span>
<span style="color: #BA2121; font-style: italic">    model names, and specific classification category IDs, and performs the following tasks:</span>
<span style="color: #BA2121; font-style: italic">    - Reads the input files and processes them into semantic and instance labels.</span>
<span style="color: #BA2121; font-style: italic">    - Adjusts and relabels certain class labels based on predefined thresholds.</span>
<span style="color: #BA2121; font-style: italic">    - Computes various metrics including TP, FP, FN, TN, precision, recall, IoU, and adjusts confusion matrices.</span>
<span style="color: #BA2121; font-style: italic">    - Outputs standardized data formats for the ground truth, predicted labels, and summary evaluation</span>
<span style="color: #BA2121; font-style: italic">      metrics to files.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    file_semantic_results : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Path to the input file containing semantic classification results.</span>
<span style="color: #BA2121; font-style: italic">        Defaults to &quot;script/pcd_viterbi_classsemantic_final.txt&quot;.</span>
<span style="color: #BA2121; font-style: italic">    file_instance_results : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Path to the input file containing instance classification results.</span>
<span style="color: #BA2121; font-style: italic">        Defaults to &quot;script/pcd_viterbi_classsemantic_final.txt&quot;.</span>
<span style="color: #BA2121; font-style: italic">    file_ground_truth : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Path to the input file containing ground truth coordinate data.</span>
<span style="color: #BA2121; font-style: italic">        Defaults to &quot;script/cheno_virtuel_coordinates.txt&quot;.</span>
<span style="color: #BA2121; font-style: italic">    name_model : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Name of the model being processed and evaluated. Outputs will include this name in their filenames.</span>
<span style="color: #BA2121; font-style: italic">        Defaults to &quot;name&quot;.</span>
<span style="color: #BA2121; font-style: italic">    class_limb : int, optional</span>
<span style="color: #BA2121; font-style: italic">        ID value representing the limb class (used for relabeling). Defaults to 1.</span>
<span style="color: #BA2121; font-style: italic">    class_mainstem : int, optional</span>
<span style="color: #BA2121; font-style: italic">        ID value representing the main stem class (used for relabeling). Defaults to 3.</span>
<span style="color: #BA2121; font-style: italic">    class_petiol : int, optional</span>
<span style="color: #BA2121; font-style: italic">        ID value representing the petiol class (used for relabeling). Defaults to 5.</span>
<span style="color: #BA2121; font-style: italic">    class_branch : int, optional</span>
<span style="color: #BA2121; font-style: italic">        ID value representing the branch class (used for relabeling). Defaults to 6.</span>
<span style="color: #BA2121; font-style: italic">    class_apex : int, optional</span>
<span style="color: #BA2121; font-style: italic">        ID value representing the apex class (used for relabeling). Defaults to 4.</span>

<span style="color: #BA2121; font-style: italic">    Returns</span>
<span style="color: #BA2121; font-style: italic">    -------</span>
<span style="color: #BA2121; font-style: italic">    None</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    - The function outputs several files containing processed data and results:</span>
<span style="color: #BA2121; font-style: italic">      - Ground truth in standardized format with predicted classifications relabeled.</span>
<span style="color: #BA2121; font-style: italic">      - Metrics related to clustering and classification performance, including precision, recall,</span>
<span style="color: #BA2121; font-style: italic">        IoU, confusion matrix, and an F1 score.</span>
<span style="color: #BA2121; font-style: italic">      - Summary results are written to evaluation files using the provided `name_model`.</span>

<span style="color: #BA2121; font-style: italic">    - All thresholds for relabeling are predefined and hardcoded within the function for specific</span>
<span style="color: #BA2121; font-style: italic">      plant segmentation studies. Adjust these thresholds carefully if applying the function to</span>
<span style="color: #BA2121; font-style: italic">      datasets with different formats or labeling conventions.</span>

<span style="color: #BA2121; font-style: italic">    - The function leverages scikit-learn&#39;s metrics module for the computation of clustering and</span>
<span style="color: #BA2121; font-style: italic">      classification scores.</span>

<span style="color: #BA2121; font-style: italic">    - Outputs are saved in plaintext or numerical formats (e.g., `.txt`), making them suitable for</span>
<span style="color: #BA2121; font-style: italic">      importing into statistical or visualization tools for downstream analysis.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    xc, yc, zc, labelsc <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_semantic_results, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    xc, yc, zc, labelinstance <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_instance_results, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    xt, yt, zt, labelst, np2, c1, c2, c3 <span style="color: #666">=</span> np<span style="color: #666">.</span>loadtxt(fname<span style="color: #666">=</span>file_ground_truth, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39;,&#39;</span>, unpack<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    exp <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], labelst[:, np<span style="color: #666">.</span>newaxis]), axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Ground_truth_&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, exp, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)

    rand <span style="color: #666">=</span> metrics<span style="color: #666">.</span>cluster<span style="color: #666">.</span>rand_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;rand&quot;</span>)
    <span style="color: #008000">print</span>(rand)
    rand_adj <span style="color: #666">=</span> metrics<span style="color: #666">.</span>cluster<span style="color: #666">.</span>adjusted_rand_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;rand_adjusted&quot;</span>)
    <span style="color: #008000">print</span>(rand_adj)
    mutual <span style="color: #666">=</span> metrics<span style="color: #666">.</span>adjusted_mutual_info_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;adjusted_mutual_info_score&quot;</span>)
    <span style="color: #008000">print</span>(mutual)
    comp <span style="color: #666">=</span> metrics<span style="color: #666">.</span>completeness_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;completeness_score&quot;</span>)
    <span style="color: #008000">print</span>(comp)
    fowlkes <span style="color: #666">=</span> metrics<span style="color: #666">.</span>fowlkes_mallows_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;fowlkes_mallows_score&quot;</span>)
    <span style="color: #008000">print</span>(fowlkes)
    homogeneity <span style="color: #666">=</span> metrics<span style="color: #666">.</span>homogeneity_score(labelst, labelinstance)
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&quot;homogeneity_score&quot;</span>)
    <span style="color: #008000">print</span>(homogeneity)

    <span style="color: #3D7B7B; font-style: italic"># creation d&#39;une liste ground truth correspondant aux labels.</span>
    label_gt_end <span style="color: #666">=</span> copy<span style="color: #666">.</span>deepcopy(labelst)
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(label_gt_end)):
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666">399</span> <span style="color: #666">&lt;</span> label_gt_end[i] <span style="color: #666">&lt;</span> <span style="color: #666">500</span>:
            new <span style="color: #666">=</span> class_limb
        <span style="color: #008000; font-weight: bold">elif</span> label_gt_end[i] <span style="color: #666">==</span> <span style="color: #666">0</span>:
            new <span style="color: #666">=</span> class_mainstem
        <span style="color: #008000; font-weight: bold">elif</span> <span style="color: #666">199</span> <span style="color: #666">&lt;</span> label_gt_end[i] <span style="color: #666">&lt;</span> <span style="color: #666">300</span>:
            new <span style="color: #666">=</span> class_petiol
        <span style="color: #008000; font-weight: bold">elif</span> <span style="color: #666">299</span> <span style="color: #666">&lt;</span> label_gt_end[i] <span style="color: #666">&lt;</span> <span style="color: #666">399</span>:
            new <span style="color: #666">=</span> class_apex
        <span style="color: #008000; font-weight: bold">elif</span> <span style="color: #666">99</span> <span style="color: #666">&lt;</span> label_gt_end[i] <span style="color: #666">&lt;</span> <span style="color: #666">199</span>:
            new <span style="color: #666">=</span> class_branch
        <span style="color: #008000; font-weight: bold">elif</span> <span style="color: #666">999</span> <span style="color: #666">&lt;</span> label_gt_end[i]:
            new <span style="color: #666">=</span> class_limb
        label_gt_end[i] <span style="color: #666">=</span> new

    gt_final <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], label_gt_end[:, np<span style="color: #666">.</span>newaxis]),
                              axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Ground_truth_final&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, gt_final, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)
    <span style="color: #3D7B7B; font-style: italic"># ici j&#39;ai trop de différents labels par rapport à la vérité terrain, a enlever si c&#39;est ok entre les deux</span>
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    for i in range(len(labelsc)):</span>
<span style="color: #BA2121; font-style: italic">        if labelsc[i] == class_branch:</span>
<span style="color: #BA2121; font-style: italic">            new = class_mainstem</span>
<span style="color: #BA2121; font-style: italic">            labelsc[i] = new</span>
<span style="color: #BA2121; font-style: italic">        elif labelsc[i] == class_apex:</span>
<span style="color: #BA2121; font-style: italic">            new = class_limb</span>
<span style="color: #BA2121; font-style: italic">            labelsc[i] = new</span>
<span style="color: #BA2121; font-style: italic">        #elif labelsc[i] == class_petiol:</span>
<span style="color: #BA2121; font-style: italic">        #    new = class_mainstem</span>
<span style="color: #BA2121; font-style: italic">        #    labelsc[i] = new</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">set</span>(label_gt_end) <span style="color: #666">&gt;</span> <span style="color: #008000">set</span>(labelsc):
        <span style="color: #008000">list</span> <span style="color: #666">=</span> <span style="color: #008000">set</span>(label_gt_end)
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000">list</span> <span style="color: #666">=</span> <span style="color: #008000">set</span>(labelsc)
    label_final <span style="color: #666">=</span> np<span style="color: #666">.</span>concatenate((xt[:, np<span style="color: #666">.</span>newaxis], yt[:, np<span style="color: #666">.</span>newaxis], zt[:, np<span style="color: #666">.</span>newaxis], labelsc[:, np<span style="color: #666">.</span>newaxis]),
                                 axis<span style="color: #666">=1</span>)
    np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;Label_final&#39;</span> <span style="color: #666">+</span> name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, label_final, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&#39; &#39;</span>, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%f</span><span style="color: #BA2121">&#39;</span>)

    mres <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros(((<span style="color: #008000">len</span>(<span style="color: #008000">list</span>)) <span style="color: #666">+</span> <span style="color: #666">4</span>, <span style="color: #666">8</span>))
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 1] = &#39;TP&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 2] = &#39;FN&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 3] = &#39;FP&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 4] = &#39;Re&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 5] = &#39;Pr&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># mres[0, 6] = &#39;IoU&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># faire une vérification que les coordoonnées correspondent ?</span>
    TP <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    FN <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    FP <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    TN <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    a <span style="color: #666">=</span> <span style="color: #666">1</span>

    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">list</span>:
        TP[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        FN[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        FP[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        TN[i] <span style="color: #666">=</span> <span style="color: #666">0</span>
        mres[a, <span style="color: #666">0</span>] <span style="color: #666">=</span> i
        a <span style="color: #666">+=</span> <span style="color: #666">1</span>

    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(labelsc)):
        labelgiven <span style="color: #666">=</span> labelsc[i]
        labeltruth <span style="color: #666">=</span> label_gt_end[i]
        <span style="color: #008000; font-weight: bold">if</span> labelsc[i] <span style="color: #666">==</span> label_gt_end[i]:
            TP[labelgiven] <span style="color: #666">+=</span> <span style="color: #666">1</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            FP[labelgiven] <span style="color: #666">+=</span> <span style="color: #666">1</span>
            FN[labeltruth] <span style="color: #666">+=</span> <span style="color: #666">1</span>
        <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
            <span style="color: #008000; font-weight: bold">if</span> c <span style="color: #666">!=</span> labelsc[i] <span style="color: #A2F; font-weight: bold">and</span> c <span style="color: #666">!=</span> label_gt_end[i]:
                TN[c] <span style="color: #666">+=</span> <span style="color: #666">1</span>

    Re <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    Pr <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    IoU <span style="color: #666">=</span> <span style="color: #008000">dict</span>()
    TPtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    FNtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    FPtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    TNtot <span style="color: #666">=</span> <span style="color: #666">0</span>
    MIoU <span style="color: #666">=</span> <span style="color: #666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
        Re[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FN[i])
        Pr[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FP[i])
        IoU[i] <span style="color: #666">=</span> (TP[i]) <span style="color: #666">/</span> (TP[i] <span style="color: #666">+</span> FN[i] <span style="color: #666">+</span> FP[i])
        TPtot <span style="color: #666">+=</span> TP[i]
        FNtot <span style="color: #666">+=</span> FN[i]
        FPtot <span style="color: #666">+=</span> FP[i]
        TNtot <span style="color: #666">+=</span> TN[i]
        MIoU <span style="color: #666">+=</span> IoU[i]

    MIoU <span style="color: #666">/=</span> <span style="color: #008000">len</span>(<span style="color: #008000">set</span>(label_gt_end))
    totalacc <span style="color: #666">=</span> (TPtot <span style="color: #666">+</span> TNtot) <span style="color: #666">/</span> (TPtot <span style="color: #666">+</span> TNtot <span style="color: #666">+</span> FPtot <span style="color: #666">+</span> FNtot)
    f1_score <span style="color: #666">=</span> TPtot <span style="color: #666">/</span> (TPtot <span style="color: #666">+</span> <span style="color: #666">0.5</span> <span style="color: #666">*</span> (FNtot <span style="color: #666">+</span> FPtot))

    a <span style="color: #666">=</span> <span style="color: #666">1</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">set</span>(label_gt_end):
        mres[a, <span style="color: #666">1</span>] <span style="color: #666">=</span> TP[i]
        mres[a, <span style="color: #666">2</span>] <span style="color: #666">=</span> FN[i]
        mres[a, <span style="color: #666">3</span>] <span style="color: #666">=</span> FP[i]
        mres[a, <span style="color: #666">4</span>] <span style="color: #666">=</span> TN[i]
        mres[a, <span style="color: #666">5</span>] <span style="color: #666">=</span> Re[i]
        mres[a, <span style="color: #666">6</span>] <span style="color: #666">=</span> Pr[i]
        mres[a, <span style="color: #666">7</span>] <span style="color: #666">=</span> IoU[i]
        a <span style="color: #666">+=</span> <span style="color: #666">1</span>
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> TPtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">2</span>] <span style="color: #666">=</span> FNtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">3</span>] <span style="color: #666">=</span> FPtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">4</span>] <span style="color: #666">=</span> TNtot
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">1</span>, <span style="color: #666">7</span>] <span style="color: #666">=</span> MIoU
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">2</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> totalacc
    mres[<span style="color: #008000">len</span>(<span style="color: #008000">list</span>) <span style="color: #666">+</span> <span style="color: #666">3</span>, <span style="color: #666">1</span>] <span style="color: #666">=</span> f1_score

    cm <span style="color: #666">=</span> metrics<span style="color: #666">.</span>confusion_matrix(label_gt_end, labelsc)
    np<span style="color: #666">.</span>savetxt(name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;scikit_cm&#39;</span>, cm, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%.4e</span><span style="color: #BA2121">&#39;</span>)
    np<span style="color: #666">.</span>savetxt(name_model <span style="color: #666">+</span> <span style="color: #BA2121">&#39;eval.txt&#39;</span>, mres, fmt<span style="color: #666">=</span><span style="color: #BA2121">&#39;</span><span style="color: #A45A77; font-weight: bold">%.4e</span><span style="color: #BA2121">&#39;</span>)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.count_number_limbs_apex_etc" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">count_number_limbs_apex_etc</span>


<a href="#spectral_clustering.evaluation.count_number_limbs_apex_etc" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>count_number_limbs_apex_etc(qg, class_apex<span style="color: #666">=4</span>, class_limb<span style="color: #666">=1</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Counts the number of nodes classified as 'limb' and 'apex' based on a given attribute
in a graph structure.</p>
<p>This function iterates over the nodes of a given graph, evaluates their data based
on a specified attribute, and counts the nodes that match the classification for
'apex' and 'limb'. Returns a tuple of integers representing the count of 'apex'
nodes and 'limb' nodes respectively.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>qg</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.quotient_graph.QuotientGraph" href="../quotient_graph/#spectral_clustering.quotient_graph.QuotientGraph">QuotientGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>A graph object where each node contains data as a dictionary, accessed with
the <code>attribute</code> parameter. The nodes are analyzed to determine if the provided
<code>attribute</code> matches the classifications for 'apex' or 'limb'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_apex</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>The value of the attribute that classifies a node as an 'apex' node. Defaults to 4.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_limb</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>The value of the attribute that classifies a node as a 'limb' node. Defaults to 1.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>attribute</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;viterbi_class&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The key name of the attribute in the node data dictionaries used to categorize
nodes as 'apex' or 'limb'. Defaults to 'viterbi_class'.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>tuple of int</code>
          –
          <div class="doc-md-description">
            <p>A tuple containing two integers:
- The number of nodes classified as 'apex'.
- The number of nodes classified as 'limb'.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">count_number_limbs_apex_etc</span>(qg, class_apex<span style="color: #666">=4</span>, class_limb<span style="color: #666">=1</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Counts the number of nodes classified as &#39;limb&#39; and &#39;apex&#39; based on a given attribute</span>
<span style="color: #BA2121; font-style: italic">    in a graph structure.</span>

<span style="color: #BA2121; font-style: italic">    This function iterates over the nodes of a given graph, evaluates their data based</span>
<span style="color: #BA2121; font-style: italic">    on a specified attribute, and counts the nodes that match the classification for</span>
<span style="color: #BA2121; font-style: italic">    &#39;apex&#39; and &#39;limb&#39;. Returns a tuple of integers representing the count of &#39;apex&#39;</span>
<span style="color: #BA2121; font-style: italic">    nodes and &#39;limb&#39; nodes respectively.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    qg : spectral_clustering.quotient_graph.QuotientGraph</span>
<span style="color: #BA2121; font-style: italic">        A graph object where each node contains data as a dictionary, accessed with</span>
<span style="color: #BA2121; font-style: italic">        the `attribute` parameter. The nodes are analyzed to determine if the provided</span>
<span style="color: #BA2121; font-style: italic">        `attribute` matches the classifications for &#39;apex&#39; or &#39;limb&#39;.</span>
<span style="color: #BA2121; font-style: italic">    class_apex : int, optional</span>
<span style="color: #BA2121; font-style: italic">        The value of the attribute that classifies a node as an &#39;apex&#39; node. Defaults to 4.</span>
<span style="color: #BA2121; font-style: italic">    class_limb : int, optional</span>
<span style="color: #BA2121; font-style: italic">        The value of the attribute that classifies a node as a &#39;limb&#39; node. Defaults to 1.</span>
<span style="color: #BA2121; font-style: italic">    attribute : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The key name of the attribute in the node data dictionaries used to categorize</span>
<span style="color: #BA2121; font-style: italic">        nodes as &#39;apex&#39; or &#39;limb&#39;. Defaults to &#39;viterbi_class&#39;.</span>

<span style="color: #BA2121; font-style: italic">    Returns</span>
<span style="color: #BA2121; font-style: italic">    -------</span>
<span style="color: #BA2121; font-style: italic">    tuple of int</span>
<span style="color: #BA2121; font-style: italic">        A tuple containing two integers:</span>
<span style="color: #BA2121; font-style: italic">        - The number of nodes classified as &#39;apex&#39;.</span>
<span style="color: #BA2121; font-style: italic">        - The number of nodes classified as &#39;limb&#39;.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    list_of_limb <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> qg<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[attribute] <span style="color: #666">==</span> class_limb]
    list_of_apex <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> qg<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[attribute] <span style="color: #666">==</span> class_apex]

    <span style="color: #008000; font-weight: bold">return</span> (<span style="color: #008000">len</span>(list_of_apex, <span style="color: #008000">len</span>(list_of_limb)))
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.downsample_pcd" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">downsample_pcd</span>


<a href="#spectral_clustering.evaluation.downsample_pcd" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>downsample_pcd(file_pcd<span style="color: #666">=</span><span style="color: #BA2121">&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</span>, name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reduces the resolution of a point cloud by voxel down-sampling and saves the
resulting down-sampled point cloud to a file.</p>
<p>This function uses voxel grid down-sampling to reduce the density of points
in the given point cloud file. Additionally, it traces approximate classes to
maintain semantic information during the down-sampling process. The resulting
down-sampled point cloud is saved in PLY format with a specified output file name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>file_pcd</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;script/pcd_viterbi_classsemantic_final.txt&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The file path to the input point cloud (in PLY format). Default is
"script/pcd_viterbi_classsemantic_final.txt".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name_model</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;name_model&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The base name for the output down-sampled point cloud file. The output
file will have the name "<name_model>down_sample.ply".</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">481</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">482</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">483</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">484</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">485</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">486</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">487</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">488</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">489</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">490</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">491</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">492</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">493</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">494</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">495</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">496</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">497</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">498</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">499</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">500</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">501</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">502</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">503</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">downsample_pcd</span>(file_pcd<span style="color: #666">=</span><span style="color: #BA2121">&quot;script/pcd_viterbi_classsemantic_final.txt&quot;</span>,
                   name_model<span style="color: #666">=</span><span style="color: #BA2121">&#39;name_model&#39;</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Reduces the resolution of a point cloud by voxel down-sampling and saves the</span>
<span style="color: #BA2121; font-style: italic">    resulting down-sampled point cloud to a file.</span>

<span style="color: #BA2121; font-style: italic">    This function uses voxel grid down-sampling to reduce the density of points</span>
<span style="color: #BA2121; font-style: italic">    in the given point cloud file. Additionally, it traces approximate classes to</span>
<span style="color: #BA2121; font-style: italic">    maintain semantic information during the down-sampling process. The resulting</span>
<span style="color: #BA2121; font-style: italic">    down-sampled point cloud is saved in PLY format with a specified output file name.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    file_pcd : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The file path to the input point cloud (in PLY format). Default is</span>
<span style="color: #BA2121; font-style: italic">        &quot;script/pcd_viterbi_classsemantic_final.txt&quot;.</span>
<span style="color: #BA2121; font-style: italic">    name_model : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The base name for the output down-sampled point cloud file. The output</span>
<span style="color: #BA2121; font-style: italic">        file will have the name &quot;&lt;name_model&gt;down_sample.ply&quot;.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    pcd <span style="color: #666">=</span> o3d<span style="color: #666">.</span>io<span style="color: #666">.</span>read_point_cloud(file_pcd, <span style="color: #008000">format</span><span style="color: #666">=</span><span style="color: #BA2121">&#39;ply&#39;</span>)
    downpcd <span style="color: #666">=</span> o3d<span style="color: #666">.</span>geometry<span style="color: #666">.</span>voxel_down_sample_and_trace(<span style="color: #008000">input</span><span style="color: #666">=</span>pcd, voxel_size<span style="color: #666">=1.0</span>, approximate_class<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    o3d<span style="color: #666">.</span>io<span style="color: #666">.</span>write_point_cloud(name_model <span style="color: #666">+</span> <span style="color: #BA2121">&quot;down_sample.ply&quot;</span>, downpcd)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.export_each_element_point_cloud" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">export_each_element_point_cloud</span>


<a href="#spectral_clustering.evaluation.export_each_element_point_cloud" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>export_each_element_point_cloud(qg, class_to_export<span style="color: #666">=1</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>, name<span style="color: #666">=</span><span style="color: #BA2121">&#39;limb_piece&#39;</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Exports elements of a point cloud graph based on a specified class and attribute. For each matching element,
the method identifies corresponding nodes, creates a subgraph, and saves positional data
to a text file if the subgraph contains more than 50 nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>qg</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.quotient_graph.QuotientGraph" href="../quotient_graph/#spectral_clustering.quotient_graph.QuotientGraph">QuotientGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>The quotient graph containing nodes and their associated attributes.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_to_export</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>The specific class value in the <code>attribute</code> of the nodes of <code>gq</code> to export.
Defaults to <code>1</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>attribute</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;viterbi_class&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The attribute of the nodes in <code>gq</code> to match against <code>class_to_export</code>
for filtering. Defaults to <code>'viterbi_class'</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;limb_piece&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name used for the output file prefix. Defaults to <code>'limb_piece'</code>.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">export_each_element_point_cloud</span>(qg, class_to_export<span style="color: #666">=1</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>, name<span style="color: #666">=</span><span style="color: #BA2121">&#39;limb_piece&#39;</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Exports elements of a point cloud graph based on a specified class and attribute. For each matching element,</span>
<span style="color: #BA2121; font-style: italic">    the method identifies corresponding nodes, creates a subgraph, and saves positional data</span>
<span style="color: #BA2121; font-style: italic">    to a text file if the subgraph contains more than 50 nodes.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    qg : spectral_clustering.quotient_graph.QuotientGraph</span>
<span style="color: #BA2121; font-style: italic">        The quotient graph containing nodes and their associated attributes.</span>
<span style="color: #BA2121; font-style: italic">    class_to_export : int, optional</span>
<span style="color: #BA2121; font-style: italic">        The specific class value in the `attribute` of the nodes of `gq` to export.</span>
<span style="color: #BA2121; font-style: italic">        Defaults to ``1``.</span>
<span style="color: #BA2121; font-style: italic">    attribute : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The attribute of the nodes in `gq` to match against `class_to_export`</span>
<span style="color: #BA2121; font-style: italic">        for filtering. Defaults to ``&#39;viterbi_class&#39;``.</span>
<span style="color: #BA2121; font-style: italic">    name : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The name used for the output file prefix. Defaults to ``&#39;limb_piece&#39;``.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> qg<span style="color: #666">.</span>point_cloud_graph
    <span style="color: #008000">list</span> <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> qg<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[attribute] <span style="color: #666">==</span> class_to_export]
    <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">list</span>:
        list_points <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> n]
        H <span style="color: #666">=</span> G<span style="color: #666">.</span>subgraph(list_points)
        labels_from_qg <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(H<span style="color: #666">.</span>nodes), <span style="color: #666">3</span>))
        i <span style="color: #666">=</span> <span style="color: #666">0</span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">len</span>(H<span style="color: #666">.</span>nodes) <span style="color: #666">&gt;</span> <span style="color: #666">50</span>:
            <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> H<span style="color: #666">.</span>nodes:
                labels_from_qg[i, <span style="color: #666">0</span>:<span style="color: #666">3</span>] <span style="color: #666">=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;pos&#39;</span>]
                i <span style="color: #666">+=</span> <span style="color: #666">1</span>
            np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;pcd_&#39;</span> <span style="color: #666">+</span> name <span style="color: #666">+</span> <span style="color: #008000">str</span>(n) <span style="color: #666">+</span> <span style="color: #BA2121">&#39;_&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(i) <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, labels_from_qg, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&quot; &quot;</span>)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.length_main_stem" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">length_main_stem</span>


<a href="#spectral_clustering.evaluation.length_main_stem" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>length_main_stem(qg, class_main_stem<span style="color: #666">=3</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Computes the length of the main stem in a graph.</p>
<p>This function identifies the main stem of a given graph by analyzing node
properties and relationships in a quotient graph and its subgraph. It finds
the longest of shortest paths in the subgraph, computes its length, and visualizes
the path. It leverages Dijkstra's algorithm to determine the longest path distance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>qg</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.quotient_graph.QuotientGraph" href="../quotient_graph/#spectral_clustering.quotient_graph.QuotientGraph">QuotientGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>The quotient graph that contains nodes and their attributes used to identify
the main stem.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_main_stem</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>3</code>
)
          –
          <div class="doc-md-description">
            <p>The class used to filter nodes in the quotient graph. Only nodes from
<code>gq</code> with an attribute value matching this class are considered for the
analysis. Defaults to <code>3</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>attribute</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;viterbi_class&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the node attribute in <code>gq</code> used to categorize nodes for
identifying the main stem. Defaults to <code>'viterbi_class'</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>The length of the main stem, calculated as the sum of distances along
the longest of shortest paths in the subgraph.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">length_main_stem</span>(qg, class_main_stem<span style="color: #666">=3</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Computes the length of the main stem in a graph.</span>

<span style="color: #BA2121; font-style: italic">    This function identifies the main stem of a given graph by analyzing node</span>
<span style="color: #BA2121; font-style: italic">    properties and relationships in a quotient graph and its subgraph. It finds</span>
<span style="color: #BA2121; font-style: italic">    the longest of shortest paths in the subgraph, computes its length, and visualizes</span>
<span style="color: #BA2121; font-style: italic">    the path. It leverages Dijkstra&#39;s algorithm to determine the longest path distance.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    qg : spectral_clustering.quotient_graph.QuotientGraph</span>
<span style="color: #BA2121; font-style: italic">        The quotient graph that contains nodes and their attributes used to identify</span>
<span style="color: #BA2121; font-style: italic">        the main stem.</span>
<span style="color: #BA2121; font-style: italic">    class_main_stem : int, optional</span>
<span style="color: #BA2121; font-style: italic">        The class used to filter nodes in the quotient graph. Only nodes from</span>
<span style="color: #BA2121; font-style: italic">        `gq` with an attribute value matching this class are considered for the</span>
<span style="color: #BA2121; font-style: italic">        analysis. Defaults to ``3``.</span>
<span style="color: #BA2121; font-style: italic">    attribute : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The name of the node attribute in `gq` used to categorize nodes for</span>
<span style="color: #BA2121; font-style: italic">        identifying the main stem. Defaults to ``&#39;viterbi_class&#39;``.</span>

<span style="color: #BA2121; font-style: italic">    Returns</span>
<span style="color: #BA2121; font-style: italic">    -------</span>
<span style="color: #BA2121; font-style: italic">    float</span>
<span style="color: #BA2121; font-style: italic">        The length of the main stem, calculated as the sum of distances along</span>
<span style="color: #BA2121; font-style: italic">        the longest of shortest paths in the subgraph.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> qg<span style="color: #666">.</span>point_cloud_graph
    list_QG_nodes <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> qg<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[attribute] <span style="color: #666">==</span> class_main_stem]
    <span style="color: #3D7B7B; font-style: italic"># get all points from stem</span>
    list_G_nodes <span style="color: #666">=</span> <span style="color: #008000">list</span>()
    <span style="color: #008000; font-weight: bold">for</span> qgn <span style="color: #A2F; font-weight: bold">in</span> list_QG_nodes:
        add_list <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> qgn]
        list_G_nodes <span style="color: #666">+=</span> add_list
    <span style="color: #3D7B7B; font-style: italic"># make subgraph</span>
    <span style="color: #008000">print</span>(list_G_nodes)
    substem <span style="color: #666">=</span> G<span style="color: #666">.</span>subgraph(list_G_nodes)

    <span style="color: #3D7B7B; font-style: italic"># find longest of shortest paths</span>
    random_node <span style="color: #666">=</span> choice(<span style="color: #008000">list</span>(substem<span style="color: #666">.</span>nodes))
    <span style="color: #008000">dict</span> <span style="color: #666">=</span> nx<span style="color: #666">.</span>single_source_dijkstra_path_length(substem, random_node, weight<span style="color: #666">=</span><span style="color: #BA2121">&#39;distance&#39;</span>)
    ptsource <span style="color: #666">=</span> <span style="color: #008000">max</span>(<span style="color: #008000">dict</span><span style="color: #666">.</span>items(), key<span style="color: #666">=</span>operator<span style="color: #666">.</span>itemgetter(<span style="color: #666">1</span>))[<span style="color: #666">0</span>]
    <span style="color: #3D7B7B; font-style: italic"># Stockage de tous les poids des plus courts chemin entre le précédent point et l&#39;ensemble des points du graphe</span>
    <span style="color: #008000">dict</span> <span style="color: #666">=</span> nx<span style="color: #666">.</span>single_source_dijkstra_path_length(substem, ptsource, weight<span style="color: #666">=</span><span style="color: #BA2121">&#39;distance&#39;</span>)
    <span style="color: #3D7B7B; font-style: italic"># Isolation du point le plus éloigné</span>
    ptarrivee <span style="color: #666">=</span> <span style="color: #008000">max</span>(<span style="color: #008000">dict</span><span style="color: #666">.</span>items(), key<span style="color: #666">=</span>operator<span style="color: #666">.</span>itemgetter(<span style="color: #666">1</span>))[<span style="color: #666">0</span>]
    <span style="color: #3D7B7B; font-style: italic"># Obtention du chemin entre le point source et le point d&#39;arrivée finaux</span>
    segmsource <span style="color: #666">=</span> nx<span style="color: #666">.</span>dijkstra_path(substem, ptsource, ptarrivee, weight<span style="color: #666">=</span><span style="color: #BA2121">&#39;distance&#39;</span>)

    Gaffichage <span style="color: #666">=</span> nx<span style="color: #666">.</span>Graph()
    pts <span style="color: #666">=</span> np<span style="color: #666">.</span>array(G<span style="color: #666">.</span>pcd<span style="color: #666">.</span>points)
    N <span style="color: #666">=</span> <span style="color: #008000">len</span>(G<span style="color: #666">.</span>pcd<span style="color: #666">.</span>points)
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(N):
        Gaffichage<span style="color: #666">.</span>add_node(i, pos<span style="color: #666">=</span>pts[i])
    nx<span style="color: #666">.</span>add_path(Gaffichage, segmsource)
    edgelist <span style="color: #666">=</span> Gaffichage<span style="color: #666">.</span>edges

    graph <span style="color: #666">=</span> o3d<span style="color: #666">.</span>geometry<span style="color: #666">.</span>LineSet()
    graph<span style="color: #666">.</span>points <span style="color: #666">=</span> o3d<span style="color: #666">.</span>utility<span style="color: #666">.</span>Vector3dVector(pts)
    graph<span style="color: #666">.</span>lines <span style="color: #666">=</span> o3d<span style="color: #666">.</span>utility<span style="color: #666">.</span>Vector2iVector(edgelist)
    o3d<span style="color: #666">.</span>visualization<span style="color: #666">.</span>draw_geometries([graph, G<span style="color: #666">.</span>pcd])
    <span style="color: #3D7B7B; font-style: italic"># compute the length</span>
    l <span style="color: #666">=</span> <span style="color: #666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(segmsource) <span style="color: #666">-</span> <span style="color: #666">1</span>):
        l <span style="color: #666">+=</span> G<span style="color: #666">.</span>edges[segmsource[i], segmsource[i <span style="color: #666">+</span> <span style="color: #666">1</span>]][<span style="color: #BA2121">&quot;distance&quot;</span>]

    <span style="color: #008000; font-weight: bold">return</span> l
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spectral_clustering.evaluation.resegment_apex_for_eval_and_export" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">resegment_apex_for_eval_and_export</span>


<a href="#spectral_clustering.evaluation.resegment_apex_for_eval_and_export" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>resegment_apex_for_eval_and_export(qg, class_apex<span style="color: #666">=4</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>, name<span style="color: #666">=</span><span style="color: #BA2121">&#39;apex_piece&#39;</span>, lim<span style="color: #666">=30</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resegments specific nodes in a quotient graph for evaluation and export purposes.</p>
<p>This function operates on a quotient graph (QG) to identify specific nodes
based on their attributes and class values. It performs resegmentation for
nodes matching specified criteria using k-means clustering. Furthermore, it
leverages elbow methods, computes maxima if required, and exports the
resegmented data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>qg</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.quotient_graph.QuotientGraph" href="../quotient_graph/#spectral_clustering.quotient_graph.QuotientGraph">QuotientGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>A quotient graph on which resegmentation and transformations will be
performed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>class_apex</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>4</code>
)
          –
          <div class="doc-md-description">
            <p>The value of the <code>attribute</code> to identify nodes in the quotient graph for
resegmentation. Default is <code>4</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>attribute</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;viterbi_class&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Node attribute to match for identifying nodes for resegmentation.
Default is <code>'viterbi_class'</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;apex_piece&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Base name used for exporting file outputs of resegmented labels.
Default is <code>'apex_piece'</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>lim</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>30</code>
)
          –
          <div class="doc-md-description">
            <p>Threshold to limit the number of nodes resegmented. If the number of
nodes in the subgraph exceeds this value, resegmentation is performed.
Default is <code>30</code>.</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>This function assumes that the quotient graph (QG) has been preprocessed
  and contains required information such as local Fiedler extrema counts
  for nodes.</li>
<li>Node positions and direction gradients are used internally during the
  k-means clustering process.</li>
<li>File exports are automatically handled for each resegmented apex. Resulting
  files contain label data produced by k-means clustering.</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/evaluation.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">228</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">229</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">230</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">231</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">232</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">233</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">234</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">235</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">236</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">237</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">238</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">239</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">240</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">resegment_apex_for_eval_and_export</span>(qg, class_apex<span style="color: #666">=4</span>, attribute<span style="color: #666">=</span><span style="color: #BA2121">&#39;viterbi_class&#39;</span>, name<span style="color: #666">=</span><span style="color: #BA2121">&#39;apex_piece&#39;</span>, lim<span style="color: #666">=30</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Resegments specific nodes in a quotient graph for evaluation and export purposes.</span>

<span style="color: #BA2121; font-style: italic">    This function operates on a quotient graph (QG) to identify specific nodes</span>
<span style="color: #BA2121; font-style: italic">    based on their attributes and class values. It performs resegmentation for</span>
<span style="color: #BA2121; font-style: italic">    nodes matching specified criteria using k-means clustering. Furthermore, it</span>
<span style="color: #BA2121; font-style: italic">    leverages elbow methods, computes maxima if required, and exports the</span>
<span style="color: #BA2121; font-style: italic">    resegmented data.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    qg : spectral_clustering.quotient_graph.QuotientGraph</span>
<span style="color: #BA2121; font-style: italic">        A quotient graph on which resegmentation and transformations will be</span>
<span style="color: #BA2121; font-style: italic">        performed.</span>
<span style="color: #BA2121; font-style: italic">    class_apex : int, optional</span>
<span style="color: #BA2121; font-style: italic">        The value of the `attribute` to identify nodes in the quotient graph for</span>
<span style="color: #BA2121; font-style: italic">        resegmentation. Default is ``4``.</span>
<span style="color: #BA2121; font-style: italic">    attribute : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Node attribute to match for identifying nodes for resegmentation.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``&#39;viterbi_class&#39;``.</span>
<span style="color: #BA2121; font-style: italic">    name : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Base name used for exporting file outputs of resegmented labels.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``&#39;apex_piece&#39;``.</span>
<span style="color: #BA2121; font-style: italic">    lim : int, optional</span>
<span style="color: #BA2121; font-style: italic">        Threshold to limit the number of nodes resegmented. If the number of</span>
<span style="color: #BA2121; font-style: italic">        nodes in the subgraph exceeds this value, resegmentation is performed.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``30``.</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    - This function assumes that the quotient graph (QG) has been preprocessed</span>
<span style="color: #BA2121; font-style: italic">      and contains required information such as local Fiedler extrema counts</span>
<span style="color: #BA2121; font-style: italic">      for nodes.</span>
<span style="color: #BA2121; font-style: italic">    - Node positions and direction gradients are used internally during the</span>
<span style="color: #BA2121; font-style: italic">      k-means clustering process.</span>
<span style="color: #BA2121; font-style: italic">    - File exports are automatically handled for each resegmented apex. Resulting</span>
<span style="color: #BA2121; font-style: italic">      files contain label data produced by k-means clustering.</span>

<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    list_of_apex <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> qg<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[attribute] <span style="color: #666">==</span> class_apex]
    attribute_seg <span style="color: #666">=</span> <span style="color: #BA2121">&#39;direction_gradient&#39;</span>
    <span style="color: #3D7B7B; font-style: italic"># resegment with direction infos + elbow method</span>
    <span style="color: #3D7B7B; font-style: italic"># for n in list_of_apex:</span>
    <span style="color: #3D7B7B; font-style: italic"># resegment_nodes_with_elbow_method(QG, QG_nodes_to_rework=[n],</span>
    <span style="color: #3D7B7B; font-style: italic">#                                  number_of_cluster_tested=20,</span>
    <span style="color: #3D7B7B; font-style: italic">#                                  attribute=&#39;direction_gradient&#39;,</span>
    <span style="color: #3D7B7B; font-style: italic">#                                  number_attribute=3,</span>
    <span style="color: #3D7B7B; font-style: italic">#                                  standardization=False, numer=1, G_mod=False, export_div=True)</span>

    <span style="color: #3D7B7B; font-style: italic"># Check if maximas has been computed or recompute them</span>
    qg<span style="color: #666">.</span>count_local_extremum_of_Fiedler()
    <span style="color: #3D7B7B; font-style: italic"># Resegment each apex with n = number of extremum and k-means ?</span>
    <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_apex:
        number_clust <span style="color: #666">=</span> qg<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;number_of_local_Fiedler_extremum&#39;</span>]
        sub <span style="color: #666">=</span> create_subgraphs_to_work(quotientgraph<span style="color: #666">=</span>qg, list_quotient_node_to_work<span style="color: #666">=</span>[n])
        SG <span style="color: #666">=</span> sub
        list_nodes <span style="color: #666">=</span> <span style="color: #008000">list</span>(SG<span style="color: #666">.</span>nodes)
        <span style="color: #3D7B7B; font-style: italic"># creation of matrices to work with in the elbow_method package</span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">len</span>(SG<span style="color: #666">.</span>nodes) <span style="color: #666">&gt;</span> number_clust <span style="color: #A2F; font-weight: bold">and</span> <span style="color: #008000">len</span>(SG<span style="color: #666">.</span>nodes) <span style="color: #666">&gt;</span> lim:
            Xcoord <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(SG), <span style="color: #666">3</span>))
            <span style="color: #008000; font-weight: bold">for</span> u <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(SG)):
                Xcoord[u] <span style="color: #666">=</span> SG<span style="color: #666">.</span>nodes[<span style="color: #008000">list</span>(SG<span style="color: #666">.</span>nodes)[u]][<span style="color: #BA2121">&#39;pos&#39;</span>]
            Xnorm <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(SG), <span style="color: #666">3</span>))
            <span style="color: #008000; font-weight: bold">for</span> u <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(SG)):
                Xnorm[u] <span style="color: #666">=</span> SG<span style="color: #666">.</span>nodes[<span style="color: #008000">list</span>(SG<span style="color: #666">.</span>nodes)[u]][attribute_seg]

            kmeans <span style="color: #666">=</span> KMeans(n_clusters<span style="color: #666">=</span>number_clust, init<span style="color: #666">=</span><span style="color: #BA2121">&#39;k-means++&#39;</span>, n_init<span style="color: #666">=20</span>, max_iter<span style="color: #666">=300</span>,
                            tol<span style="color: #666">=0.0001</span>)<span style="color: #666">.</span>fit(Xnorm)
            kmeans_labels <span style="color: #666">=</span> kmeans<span style="color: #666">.</span>labels_[:, np<span style="color: #666">.</span>newaxis]

            new_labels <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(SG<span style="color: #666">.</span>nodes), <span style="color: #666">4</span>))
            new_labels[:, <span style="color: #666">0</span>:<span style="color: #666">3</span>] <span style="color: #666">=</span> Xcoord
            <span style="color: #008000; font-weight: bold">for</span> pt <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(list_nodes)):
                new_labels[pt, <span style="color: #666">3</span>] <span style="color: #666">=</span> kmeans_labels[pt]
            np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;pcd_new_labels_&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(n) <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, new_labels, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&quot;,&quot;</span>)
            indices <span style="color: #666">=</span> np<span style="color: #666">.</span>argsort(new_labels[:, <span style="color: #666">3</span>])
            arr_temp <span style="color: #666">=</span> new_labels[indices]
            arr_split <span style="color: #666">=</span> np<span style="color: #666">.</span>array_split(arr_temp, np<span style="color: #666">.</span>where(np<span style="color: #666">.</span>diff(arr_temp[:, <span style="color: #666">3</span>]) <span style="color: #666">!=</span> <span style="color: #666">0</span>)[<span style="color: #666">0</span>] <span style="color: #666">+</span> <span style="color: #666">1</span>)
            v <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000; font-weight: bold">for</span> arr <span style="color: #A2F; font-weight: bold">in</span> arr_split:
                np<span style="color: #666">.</span>savetxt(<span style="color: #BA2121">&#39;pcd_new_labels_apex&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(n) <span style="color: #666">+</span> <span style="color: #BA2121">&#39;_&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(v) <span style="color: #666">+</span> <span style="color: #BA2121">&#39;.txt&#39;</span>, arr, delimiter<span style="color: #666">=</span><span style="color: #BA2121">&quot;,&quot;</span>)
                v <span style="color: #666">+=</span> <span style="color: #666">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The ROMI project has received funding from the European Community’s H2020 Programme under Grant Agreement No. 773875.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ROMI_EU_PROJECT" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/ROMIEUProject" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/romi/spectral-clustering" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/repository/docker/roboticsmicrofarms/plantimager/general" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../../../assets/_markdown_exec_pyodide.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://buttons.github.io/buttons.js"></script>
      
    
  </body>
</html>