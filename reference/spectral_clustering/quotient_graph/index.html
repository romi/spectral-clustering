
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spectral Clustering documentation.">
      
      
        <meta name="author" content="ROMI Team">
      
      
        <link rel="canonical" href="https://romi.github.io/spectral-clustering/reference/spectral_clustering/quotient_graph/">
      
      
        <link rel="prev" href="../point_cloud_graph/">
      
      
        <link rel="next" href="../quotientgraph_operations/">
      
      
      <link rel="icon" href="../../../assets/images/ROMI_ICON_green.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>quotient_graph - SpectralClustering</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spectral_clustering.quotient_graph" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://romi.github.io/spectral-clustering/" title="SpectralClustering" class="md-header__button md-logo" aria-label="SpectralClustering" data-md-component="logo">
      
  <img src="../../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SpectralClustering
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              quotient_graph
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/romi/spectral-clustering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../dev/" class="md-tabs__link">
        
  
    
  
  Developers

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Reference API

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://romi.github.io/spectral-clustering/" title="SpectralClustering" class="md-nav__button md-logo" aria-label="SpectralClustering" data-md-component="logo">
      
  <img src="../../../assets/images/ROMI_logo_white.svg" alt="logo">

    </a>
    SpectralClustering
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/romi/spectral-clustering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    spectral_clustering
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            spectral_clustering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Segmentation_Dijkstra_litt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Segmentation_Dijkstra_litt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Viterbi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viterbi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../branching_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    branching_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constraint_program/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constraint_program
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dijkstra_segmentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dijkstra_segmentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../display_and_export/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    display_and_export
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../point_cloud_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    point_cloud_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    quotient_graph
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    quotient_graph
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph" class="md-nav__link">
    <span class="md-ellipsis">
      quotient_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph" class="md-nav__link">
    <span class="md-ellipsis">
      QuotientGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QuotientGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.build_from_pointcloudgraph" class="md-nav__link">
    <span class="md-ellipsis">
      build_from_pointcloudgraph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_direction_info" class="md-nav__link">
    <span class="md-ellipsis">
      compute_direction_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_local_descriptors" class="md-nav__link">
    <span class="md-ellipsis">
      compute_local_descriptors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_nodes_coordinates" class="md-nav__link">
    <span class="md-ellipsis">
      compute_nodes_coordinates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_quotientgraph_metadata_on_a_node_interclass" class="md-nav__link">
    <span class="md-ellipsis">
      compute_quotientgraph_metadata_on_a_node_interclass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_silhouette" class="md-nav__link">
    <span class="md-ellipsis">
      compute_silhouette
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.count_local_extremum_of_Fiedler" class="md-nav__link">
    <span class="md-ellipsis">
      count_local_extremum_of_Fiedler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.delete_empty_edges_and_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      delete_empty_edges_and_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points" class="md-nav__link">
    <span class="md-ellipsis">
      ponderate_with_coordinates_of_points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotientgraph_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotientgraph_operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotientgraph_semantics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quotientgraph_semantics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segmentation_algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    segmentation_algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../similarity_graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    similarity_graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../split_and_merge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    split_and_merge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topological_energy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    topological_energy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_16" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_16" id="__nav_3_1_16_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_16">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/angle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    angle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/size/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    size
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/sparse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sparse
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph" class="md-nav__link">
    <span class="md-ellipsis">
      quotient_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph" class="md-nav__link">
    <span class="md-ellipsis">
      QuotientGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QuotientGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.build_from_pointcloudgraph" class="md-nav__link">
    <span class="md-ellipsis">
      build_from_pointcloudgraph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_direction_info" class="md-nav__link">
    <span class="md-ellipsis">
      compute_direction_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_local_descriptors" class="md-nav__link">
    <span class="md-ellipsis">
      compute_local_descriptors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_nodes_coordinates" class="md-nav__link">
    <span class="md-ellipsis">
      compute_nodes_coordinates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_quotientgraph_metadata_on_a_node_interclass" class="md-nav__link">
    <span class="md-ellipsis">
      compute_quotientgraph_metadata_on_a_node_interclass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_silhouette" class="md-nav__link">
    <span class="md-ellipsis">
      compute_silhouette
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.count_local_extremum_of_Fiedler" class="md-nav__link">
    <span class="md-ellipsis">
      count_local_extremum_of_Fiedler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.delete_empty_edges_and_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      delete_empty_edges_and_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points" class="md-nav__link">
    <span class="md-ellipsis">
      ponderate_with_coordinates_of_points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_clustering.quotient_graph.QuotientGraph.rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>quotient_graph</h1>

<div class="doc doc-object doc-module">



<a id="spectral_clustering.quotient_graph"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="spectral_clustering.quotient_graph.QuotientGraph" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">QuotientGraph</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph" class="headerlink" title="Permanent link">Link</a></h2>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>QuotientGraph()
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="networkx.Graph" href="https://networkx.org/documentation/stable/reference/classes/graph.html#networkx.Graph">Graph</a></code></p>


        <p>Represents a quotient graph derived from a point cloud graph.</p>
<p>The <code>QuotientGraph</code> class is designed to create a quotient graph based on the provided
point cloud graph structure. The class allows for computation of graph nodes, which are
regions derived from clustering in the point cloud graph, and establishes intra-class
and inter-class connections with computed weights and labels. Additionally, coordinates
of nodes can be derived, representing the geometric center of their respective regions.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="spectral_clustering.quotient_graph.QuotientGraph.point_cloud_graph">point_cloud_graph</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.point_cloud_graph.PointCloudGraph" href="../point_cloud_graph/#spectral_clustering.point_cloud_graph.PointCloudGraph">PointCloudGraph</a> or None</code>)
          –
          <div class="doc-md-description">
            <p>The underlying point cloud graph associated to this quotient graph.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="spectral_clustering.quotient_graph.QuotientGraph.nodes_coordinates">nodes_coordinates</span></code></b>
              (<code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a> or None</code>)
          –
          <div class="doc-md-description">
            <p>Computed coordinates of the nodes within the quotient graph.</p>
          </div>
        </li>
    </ul>






                  <details class="quote">
                    <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
                    <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">__init__</span>(<span style="color: #008000">self</span>):
    <span style="color: #008000">super</span>()<span style="color: #666">.</span><span style="color: #00F">__init__</span>()
    <span style="color: #3D7B7B; font-style: italic"># self.seed_colors = None</span>
    <span style="color: #3D7B7B; font-style: italic"># self.graph_labels_dict = None</span>
    <span style="color: #3D7B7B; font-style: italic"># self.label_count = None</span>
    <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph <span style="color: #666">=</span> <span style="color: #008000; font-weight: bold">None</span>
    <span style="color: #008000">self</span><span style="color: #666">.</span>nodes_coordinates <span style="color: #666">=</span> <span style="color: #008000; font-weight: bold">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.build_from_pointcloudgraph" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">build_from_pointcloudgraph</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.build_from_pointcloudgraph" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>build_from_pointcloudgraph(G, labels_from_cluster, region_growing<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Build a quotient graph from a given point cloud graph.</p>
<p>Builds a quotient graph from a given point cloud graph based on clustering results
and optionally applies a region-growing algorithm to extract connected components
made of the same k-means cluster label. The resulting quotient graph nodes represent
connected components, while edges represent interactions between these components.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>G</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.point_cloud_graph.PointCloudGraph" href="../point_cloud_graph/#spectral_clustering.point_cloud_graph.PointCloudGraph">PointCloudGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>The input point cloud graph where nodes represent points and edges may have
associated weights describing relationships between points.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>labels_from_cluster</code></b>
              (<code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>)
          –
          <div class="doc-md-description">
            <p>An array of labels from the initial clustering (e.g., k-means clustering) where
each element corresponds to the cluster label of a graph node.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>region_growing</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>A flag indicating whether to use a region-growing algorithm to group nodes into
connected components based on their k-means cluster labels. If False, connected
components are not grown, and nodes are assigned to clusters based on initial
cluster labels directly.
Default is <code>True</code>.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">build_from_pointcloudgraph</span>(<span style="color: #008000">self</span>, G, labels_from_cluster, region_growing<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Build a quotient graph from a given point cloud graph.</span>

<span style="color: #BA2121; font-style: italic">    Builds a quotient graph from a given point cloud graph based on clustering results</span>
<span style="color: #BA2121; font-style: italic">    and optionally applies a region-growing algorithm to extract connected components</span>
<span style="color: #BA2121; font-style: italic">    made of the same k-means cluster label. The resulting quotient graph nodes represent</span>
<span style="color: #BA2121; font-style: italic">    connected components, while edges represent interactions between these components.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    G : spectral_clustering.point_cloud_graph.PointCloudGraph</span>
<span style="color: #BA2121; font-style: italic">        The input point cloud graph where nodes represent points and edges may have</span>
<span style="color: #BA2121; font-style: italic">        associated weights describing relationships between points.</span>
<span style="color: #BA2121; font-style: italic">    labels_from_cluster : numpy.ndarray</span>
<span style="color: #BA2121; font-style: italic">        An array of labels from the initial clustering (e.g., k-means clustering) where</span>
<span style="color: #BA2121; font-style: italic">        each element corresponds to the cluster label of a graph node.</span>
<span style="color: #BA2121; font-style: italic">    region_growing : bool, optional</span>
<span style="color: #BA2121; font-style: italic">        A flag indicating whether to use a region-growing algorithm to group nodes into</span>
<span style="color: #BA2121; font-style: italic">        connected components based on their k-means cluster labels. If False, connected</span>
<span style="color: #BA2121; font-style: italic">        components are not grown, and nodes are assigned to clusters based on initial</span>
<span style="color: #BA2121; font-style: italic">        cluster labels directly.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``True``.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

    kmeans_labels <span style="color: #666">=</span> labels_from_cluster
    connected_component_labels <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros(kmeans_labels<span style="color: #666">.</span>shape, dtype<span style="color: #666">=</span><span style="color: #008000">int</span>)
    current_cc_size <span style="color: #666">=</span> <span style="color: #666">0</span>
    connected_component_size <span style="color: #666">=</span> []
    seed_kmeans_labels <span style="color: #666">=</span> []
    <span style="color: #3D7B7B; font-style: italic"># This line has been added to obtain particular colors when the initial clustering is done with four clusters</span>
    <span style="color: #3D7B7B; font-style: italic"># especially kmeans.</span>
    lablist <span style="color: #666">=</span> <span style="color: #008000">list</span>(kmeans_labels[:])
    my_count <span style="color: #666">=</span> pd<span style="color: #666">.</span>Series(lablist)<span style="color: #666">.</span>value_counts()
    <span style="color: #3D7B7B; font-style: italic"># if len(my_count) == 4:</span>
    <span style="color: #3D7B7B; font-style: italic">#     #cluster_colors = [&#39;#0000FF&#39;, &#39;#00FF00&#39;, &#39;#FFFF00&#39;, &#39;#FF0000&#39;]</span>
    <span style="color: #3D7B7B; font-style: italic">#     cluster_colors = [&#39;glasbey_&#39;+str(i) for i in range(len(my_count))]</span>
    <span style="color: #3D7B7B; font-style: italic"># else:</span>
    <span style="color: #3D7B7B; font-style: italic">#     jet = cm.get_cmap(&#39;jet&#39;, len(my_count))</span>
    <span style="color: #3D7B7B; font-style: italic">#     cluster_colors = jet(range(len(my_count)))</span>
    <span style="color: #3D7B7B; font-style: italic">#     list_labels = np.unique(lablist).tolist()</span>
    seed_colors <span style="color: #666">=</span> []
    label_count <span style="color: #666">=</span> <span style="color: #666">0</span>
    visited <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros(kmeans_labels<span style="color: #666">.</span>shape, dtype<span style="color: #666">=</span><span style="color: #008000">int</span>)
    queue <span style="color: #666">=</span> []

    <span style="color: #3D7B7B; font-style: italic"># Region growing algorithm to extract connected components made of the same k-means class.</span>
    <span style="color: #008000; font-weight: bold">if</span> region_growing:
        <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(kmeans_labels<span style="color: #666">.</span>shape[<span style="color: #666">0</span>]):

            <span style="color: #3D7B7B; font-style: italic"># Find a seed to initialize the seed fill process.</span>

            <span style="color: #008000; font-weight: bold">if</span> visited[i] <span style="color: #666">==</span> <span style="color: #666">0</span>:
                seed <span style="color: #666">=</span> i
                visited[i] <span style="color: #666">=</span> <span style="color: #666">1</span>
                queue<span style="color: #666">.</span>append(i)
                seed_kmeans_labels<span style="color: #666">.</span>append(kmeans_labels[seed])
                seed_colors<span style="color: #666">.</span>append(<span style="color: #BA2121">&#39;glasbey_&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(kmeans_labels[seed][<span style="color: #666">0</span>] <span style="color: #666">%</span> <span style="color: #666">256</span>))
                <span style="color: #3D7B7B; font-style: italic"># if len(my_count) == 4:</span>
                <span style="color: #3D7B7B; font-style: italic">#     seed_colors.append(cluster_colors[kmeans_labels[seed][0]])</span>
                <span style="color: #3D7B7B; font-style: italic"># else:</span>
                <span style="color: #3D7B7B; font-style: italic">#     seed_colors.append(cluster_colors[list_labels.index(kmeans_labels[seed][0])][:])</span>
                current_cc_size <span style="color: #666">=</span> <span style="color: #666">0</span>

                <span style="color: #3D7B7B; font-style: italic"># Region growing from the specified seed.</span>

                <span style="color: #008000; font-weight: bold">while</span> <span style="color: #008000">len</span>(queue) <span style="color: #666">!=</span> <span style="color: #666">0</span>:

                    current <span style="color: #666">=</span> queue<span style="color: #666">.</span>pop(<span style="color: #666">0</span>)
                    connected_component_labels[current] <span style="color: #666">=</span> label_count
                    current_cc_size <span style="color: #666">+=</span> <span style="color: #666">1</span>

                    <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> G[current]:
                        <span style="color: #008000; font-weight: bold">if</span> kmeans_labels[n] <span style="color: #666">==</span> kmeans_labels[seed] <span style="color: #A2F; font-weight: bold">and</span> visited[n] <span style="color: #666">==</span> <span style="color: #666">0</span>:
                            queue<span style="color: #666">.</span>append(n)
                            visited[n] <span style="color: #666">=</span> <span style="color: #666">1</span>

                connected_component_size<span style="color: #666">.</span>append(current_cc_size)
                label_count <span style="color: #666">+=</span> <span style="color: #666">1</span>
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #3D7B7B; font-style: italic"># To correct/finish, it doesn&#39;t work for now</span>
        list_kmeans_labels <span style="color: #666">=</span> [kmeans_labels[i][<span style="color: #666">0</span>] <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(kmeans_labels))]
        label_count <span style="color: #666">=</span> <span style="color: #008000">len</span>(<span style="color: #008000">list</span>(<span style="color: #008000">set</span>(list_kmeans_labels)))
        <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(kmeans_labels<span style="color: #666">.</span>shape[<span style="color: #666">0</span>]):
            seed_colors<span style="color: #666">.</span>append(<span style="color: #BA2121">&#39;glasbey_&#39;</span> <span style="color: #666">+</span> <span style="color: #008000">str</span>(kmeans_labels[i][<span style="color: #666">0</span>] <span style="color: #666">%</span> <span style="color: #666">256</span>))
            seed_kmeans_labels<span style="color: #666">.</span>append(kmeans_labels[i])

    <span style="color: #3D7B7B; font-style: italic"># Create quotient graph nodes.</span>

    <span style="color: #008000">self</span><span style="color: #666">.</span>add_nodes_from(<span style="color: #008000">range</span>(label_count))

    node_kmeans_labels_values <span style="color: #666">=</span> <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes()), np<span style="color: #666">.</span>transpose(np<span style="color: #666">.</span>asarray(seed_kmeans_labels))[<span style="color: #666">0</span>]))
    nx<span style="color: #666">.</span>set_node_attributes(<span style="color: #008000">self</span>, node_kmeans_labels_values, <span style="color: #BA2121">&#39;kmeans_labels&#39;</span>)

    <span style="color: #3D7B7B; font-style: italic"># Create quotient graph edges.</span>

    intra_edge_weight_sum <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros(label_count, dtype<span style="color: #666">=</span>np<span style="color: #666">.</span>float64)
    intra_edge_count <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros(label_count, dtype<span style="color: #666">=</span><span style="color: #008000">int</span>)

    <span style="color: #008000; font-weight: bold">for</span> (u, v) <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>edges:
        a <span style="color: #666">=</span> connected_component_labels[u, <span style="color: #666">0</span>]
        b <span style="color: #666">=</span> connected_component_labels[v, <span style="color: #666">0</span>]

        <span style="color: #3D7B7B; font-style: italic"># Inter-class edge case:</span>

        <span style="color: #008000; font-weight: bold">if</span> a <span style="color: #666">!=</span> b:
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #A2F; font-weight: bold">not</span> <span style="color: #008000">self</span><span style="color: #666">.</span>has_edge(a, b):
                w <span style="color: #666">=</span> G<span style="color: #666">.</span>edges[u, v][<span style="color: #BA2121">&#39;weight&#39;</span>]
                <span style="color: #008000">self</span><span style="color: #666">.</span>add_edge(a, b, inter_class_edge_weight<span style="color: #666">=</span>w, inter_class_edge_number<span style="color: #666">=1</span>)
                <span style="color: #3D7B7B; font-style: italic"># nx.set_edge_attributes(self, G.edges[u, v][&#39;weight&#39;], &#39;inter_class_edge_weight&#39;)</span>
                <span style="color: #3D7B7B; font-style: italic"># self.edges[a, b][&#39;inter_class_edge_weight&#39;] = G.edges[u, v][&#39;weight&#39;]</span>
                <span style="color: #3D7B7B; font-style: italic"># nx.set_edge_attributes(self, 1, &#39;inter_class_edge_number&#39;)</span>
                <span style="color: #3D7B7B; font-style: italic"># self.edges[a, b][&#39;inter_class_edge_number&#39;] = 1</span>
            <span style="color: #008000; font-weight: bold">else</span>:
                <span style="color: #008000">self</span><span style="color: #666">.</span>edges[a, b][<span style="color: #BA2121">&#39;inter_class_edge_weight&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>edges[u, v][<span style="color: #BA2121">&#39;weight&#39;</span>]
                <span style="color: #008000">self</span><span style="color: #666">.</span>edges[a, b][<span style="color: #BA2121">&#39;inter_class_edge_number&#39;</span>] <span style="color: #666">+=</span> <span style="color: #666">1</span>

        <span style="color: #3D7B7B; font-style: italic"># Intra-class edge case:</span>

        <span style="color: #008000; font-weight: bold">else</span>:
            intra_edge_weight_sum[a] <span style="color: #666">+=</span> G<span style="color: #666">.</span>edges[u, v][<span style="color: #BA2121">&#39;weight&#39;</span>]
            intra_edge_count[a] <span style="color: #666">+=</span> <span style="color: #666">1</span>

    <span style="color: #3D7B7B; font-style: italic"># Assign to each point cloud graph node the corresponding quotient graph node.</span>

    node_cc <span style="color: #666">=</span> <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(G<span style="color: #666">.</span>nodes()), np<span style="color: #666">.</span>transpose(np<span style="color: #666">.</span>asarray(connected_component_labels))[<span style="color: #666">0</span>]))
    nx<span style="color: #666">.</span>set_node_attributes(G, node_cc, <span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>)

    nx<span style="color: #666">.</span>set_node_attributes(<span style="color: #008000">self</span>, <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes()), np<span style="color: #666">.</span>transpose(np<span style="color: #666">.</span>asarray(connected_component_size)))),
                           <span style="color: #BA2121">&#39;intra_class_node_number&#39;</span>)

    nx<span style="color: #666">.</span>set_node_attributes(<span style="color: #008000">self</span>, <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes()), np<span style="color: #666">.</span>transpose(np<span style="color: #666">.</span>asarray(intra_edge_weight_sum)))), <span style="color: #BA2121">&#39;intra_class_edge_weight&#39;</span>)

    nx<span style="color: #666">.</span>set_node_attributes(<span style="color: #008000">self</span>, <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes()), np<span style="color: #666">.</span>transpose(np<span style="color: #666">.</span>asarray(intra_edge_count)))), <span style="color: #BA2121">&#39;intra_class_edge_number&#39;</span>)

    <span style="color: #3D7B7B; font-style: italic"># if len(my_count) == 4:</span>
    <span style="color: #3D7B7B; font-style: italic">#     nx.set_node_attributes(self, dict(</span>
    <span style="color: #3D7B7B; font-style: italic">#         zip(np.asarray(self.nodes()), np.transpose(np.asarray(seed_colors)))), &#39;seed_colors&#39;)</span>
    <span style="color: #3D7B7B; font-style: italic"># else:</span>
    nx<span style="color: #666">.</span>set_node_attributes(<span style="color: #008000">self</span>, <span style="color: #008000">dict</span>(
        <span style="color: #008000">zip</span>(np<span style="color: #666">.</span>asarray(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes()), seed_colors)), <span style="color: #BA2121">&#39;seed_colors&#39;</span>)

    <span style="color: #3D7B7B; font-style: italic"># self.seed_colors = seed_colors</span>
    <span style="color: #3D7B7B; font-style: italic"># self.label_count = label_count</span>
    <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph <span style="color: #666">=</span> G
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.compute_direction_info" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_direction_info</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_direction_info" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_direction_info(list_leaves)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Computes directional gradient information for specific nodes and edges in the graph.</p>
<p>This function computes a mean direction gradient for each node in the graph, based on
the sum of the direction gradients of the individual nodes that belong to its quotient
graph node. Additionally, it calculates the energy dot product for each edge based
on the dot product of the mean direction gradients of the connected nodes. Leaves
from the specified list are assigned a predefined energy dot product value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>list_leaves</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>)
          –
          <div class="doc-md-description">
            <p>A list of nodes that are considered as leaves in the graph. These nodes will
have their associated edges assigned a constant energy dot product value.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">625</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">626</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">627</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">628</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">629</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">630</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">631</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">632</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">633</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">634</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">635</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">636</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">637</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">638</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">639</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">640</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">641</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">642</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">643</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">644</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">645</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">646</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">647</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">648</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">649</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">650</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">651</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">652</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">653</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">654</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">655</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">656</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">657</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_direction_info</span>(<span style="color: #008000">self</span>, list_leaves):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Computes directional gradient information for specific nodes and edges in the graph.</span>

<span style="color: #BA2121; font-style: italic">    This function computes a mean direction gradient for each node in the graph, based on</span>
<span style="color: #BA2121; font-style: italic">    the sum of the direction gradients of the individual nodes that belong to its quotient</span>
<span style="color: #BA2121; font-style: italic">    graph node. Additionally, it calculates the energy dot product for each edge based</span>
<span style="color: #BA2121; font-style: italic">    on the dot product of the mean direction gradients of the connected nodes. Leaves</span>
<span style="color: #BA2121; font-style: italic">    from the specified list are assigned a predefined energy dot product value.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    list_leaves : list</span>
<span style="color: #BA2121; font-style: italic">        A list of nodes that are considered as leaves in the graph. These nodes will</span>
<span style="color: #BA2121; font-style: italic">        have their associated edges assigned a constant energy dot product value.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph
    <span style="color: #008000; font-weight: bold">for</span> l <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>:
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[l][<span style="color: #BA2121">&#39;dir_gradient_mean&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
        list_of_nodes_in_qnode <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> l]
        <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_in_qnode:
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[l][<span style="color: #BA2121">&#39;dir_gradient_mean&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;direction_gradient&#39;</span>]
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[l][<span style="color: #BA2121">&#39;dir_gradient_mean&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)

    <span style="color: #3D7B7B; font-style: italic"># take all the edges and compute the dot product between the two cluster</span>
    <span style="color: #008000; font-weight: bold">for</span> e <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>edges():
        v1 <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[e[<span style="color: #666">0</span>]][<span style="color: #BA2121">&#39;dir_gradient_mean&#39;</span>]
        v2 <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[e[<span style="color: #666">1</span>]][<span style="color: #BA2121">&#39;dir_gradient_mean&#39;</span>]
        <span style="color: #008000; font-weight: bold">if</span> e[<span style="color: #666">0</span>] <span style="color: #A2F; font-weight: bold">in</span> list_leaves <span style="color: #A2F; font-weight: bold">or</span> e[<span style="color: #666">1</span>] <span style="color: #A2F; font-weight: bold">in</span> list_leaves:
            <span style="color: #008000">self</span><span style="color: #666">.</span>edges[e][<span style="color: #BA2121">&#39;energy_dot_product&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">4</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            dot <span style="color: #666">=</span> v1[<span style="color: #666">0</span>] <span style="color: #666">*</span> v2[<span style="color: #666">0</span>] <span style="color: #666">+</span> v1[<span style="color: #666">1</span>] <span style="color: #666">*</span> v2[<span style="color: #666">1</span>] <span style="color: #666">+</span> v1[<span style="color: #666">2</span>] <span style="color: #666">*</span> v2[<span style="color: #666">2</span>]
            energy_dot_product <span style="color: #666">=</span> <span style="color: #666">1</span> <span style="color: #666">-</span> dot
            <span style="color: #008000">self</span><span style="color: #666">.</span>edges[e][<span style="color: #BA2121">&#39;energy_dot_product&#39;</span>] <span style="color: #666">=</span> energy_dot_product
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.compute_local_descriptors" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_local_descriptors</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_local_descriptors" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_local_descriptors(method<span style="color: #666">=</span><span style="color: #BA2121">&#39;all_qg_cluster&#39;</span>, data<span style="color: #666">=</span><span style="color: #BA2121">&#39;coords&#39;</span>, neighborhood<span style="color: #666">=</span><span style="color: #BA2121">&#39;radius&#39;</span>, scale<span style="color: #666">=10</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute local descriptors for the points in a graph or its quotient graph nodes based on various methods, data types, and neighborhood definitions.</p>
<p>This method calculates geometric and structural descriptors such as planarity, linearity, scattering, curvature, and eigenvalues
using covariance matrices derived from either the point coordinates or gradient vectors. Depending on the method and data type, the
computation is either performed for individual points or for clusters of points belonging to quotient graph nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>method</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;all_qg_cluster&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Specifies the type of computation to perform.
Default is <code>'all_qg_cluster'</code>.
Options include:</p>
<ul>
<li><code>'all_qg_cluster'</code>: Compute descriptors for quotient graph nodes by aggregating information from all points
  in a node.</li>
<li><code>'each_point'</code>: Compute descriptors for individual points based on their direct neighborhoods.</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;coords&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Specifies the type of data on which descriptors are computed.
Default is 'coords'.
Options include:</p>
<ul>
<li><code>'coords'</code>: Use the coordinates of points.</li>
<li><code>'gradient_vector_fiedler'</code>: Use the gradient vector of the Fiedler eigenvector.</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>neighborhood</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;radius&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Specifies the neighborhood definition when computing descriptors for individual points.
Default is 'radius'.
Options include:</p>
<ul>
<li><code>'radius'</code>: Neighborhood defined by points within a given radius.</li>
<li><code>'pointcloudgraph'</code>: Predefined graph-based neighborhood.</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>scale</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>10</code>
)
          –
          <div class="doc-md-description">
            <p>When 'neighborhood' is set to 'radius', this parameter determines the radius to define the neighborhood.
Default is <code>10</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If an invalid combination of <code>method</code>, <code>data</code>, or <code>neighborhood</code> is provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#KeyError">KeyError</a></code>
            –
          <div class="doc-md-description">
            <p>If required attributes are missing in the point cloud graph.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            <p>This method updates nodes in the graph with their computed descriptors as attributes.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">369</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">370</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">371</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">372</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">373</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">374</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">375</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">376</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">377</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">378</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">379</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">380</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">381</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">382</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">383</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">384</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">385</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">386</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">387</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">388</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">389</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">390</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">391</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">392</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">393</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">394</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">395</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">396</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">397</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">398</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">399</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">400</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">401</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">402</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">403</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">404</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">405</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">406</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">407</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">408</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">409</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">410</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">411</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">412</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">413</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">414</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">415</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">416</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">417</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">418</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">419</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">420</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">421</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">422</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">423</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">424</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">425</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">426</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">427</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">428</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">429</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">430</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">431</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">432</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">433</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">434</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">435</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">436</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">437</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">438</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">439</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">440</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">441</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">442</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">443</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">444</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">445</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">446</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">447</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">448</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">449</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">450</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">451</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">452</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">453</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">454</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">455</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">456</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">457</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">458</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">459</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">460</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">461</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">462</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">463</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">464</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">465</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">466</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">467</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">468</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">469</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">470</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">471</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">472</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">473</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">474</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">475</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">476</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">477</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">478</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">479</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">480</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">481</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">482</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">483</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">484</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">485</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">486</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">487</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">488</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">489</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">490</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">491</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">492</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">493</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_local_descriptors</span>(<span style="color: #008000">self</span>, method<span style="color: #666">=</span><span style="color: #BA2121">&#39;all_qg_cluster&#39;</span>, data<span style="color: #666">=</span><span style="color: #BA2121">&#39;coords&#39;</span>, neighborhood<span style="color: #666">=</span><span style="color: #BA2121">&#39;radius&#39;</span>, scale<span style="color: #666">=10</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">    Compute local descriptors for the points in a graph or its quotient graph nodes based on various methods, data types, and neighborhood definitions.</span>

<span style="color: #BA2121; font-style: italic">    This method calculates geometric and structural descriptors such as planarity, linearity, scattering, curvature, and eigenvalues</span>
<span style="color: #BA2121; font-style: italic">    using covariance matrices derived from either the point coordinates or gradient vectors. Depending on the method and data type, the</span>
<span style="color: #BA2121; font-style: italic">    computation is either performed for individual points or for clusters of points belonging to quotient graph nodes.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    method : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Specifies the type of computation to perform.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``&#39;all_qg_cluster&#39;``.</span>
<span style="color: #BA2121; font-style: italic">        Options include:</span>

<span style="color: #BA2121; font-style: italic">        - ``&#39;all_qg_cluster&#39;``: Compute descriptors for quotient graph nodes by aggregating information from all points</span>
<span style="color: #BA2121; font-style: italic">          in a node.</span>
<span style="color: #BA2121; font-style: italic">        - ``&#39;each_point&#39;``: Compute descriptors for individual points based on their direct neighborhoods.</span>
<span style="color: #BA2121; font-style: italic">    data : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Specifies the type of data on which descriptors are computed.</span>
<span style="color: #BA2121; font-style: italic">        Default is &#39;coords&#39;.</span>
<span style="color: #BA2121; font-style: italic">        Options include:</span>

<span style="color: #BA2121; font-style: italic">        - ``&#39;coords&#39;``: Use the coordinates of points.</span>
<span style="color: #BA2121; font-style: italic">        - ``&#39;gradient_vector_fiedler&#39;``: Use the gradient vector of the Fiedler eigenvector.</span>
<span style="color: #BA2121; font-style: italic">    neighborhood : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Specifies the neighborhood definition when computing descriptors for individual points.</span>
<span style="color: #BA2121; font-style: italic">        Default is &#39;radius&#39;.</span>
<span style="color: #BA2121; font-style: italic">        Options include:</span>

<span style="color: #BA2121; font-style: italic">          - ``&#39;radius&#39;``: Neighborhood defined by points within a given radius.</span>
<span style="color: #BA2121; font-style: italic">          - ``&#39;pointcloudgraph&#39;``: Predefined graph-based neighborhood.</span>
<span style="color: #BA2121; font-style: italic">    scale : int, optional</span>
<span style="color: #BA2121; font-style: italic">        When &#39;neighborhood&#39; is set to &#39;radius&#39;, this parameter determines the radius to define the neighborhood.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``10``.</span>

<span style="color: #BA2121; font-style: italic">    Raises</span>
<span style="color: #BA2121; font-style: italic">    ------</span>
<span style="color: #BA2121; font-style: italic">    ValueError</span>
<span style="color: #BA2121; font-style: italic">        If an invalid combination of `method`, `data`, or `neighborhood` is provided.</span>
<span style="color: #BA2121; font-style: italic">    KeyError</span>
<span style="color: #BA2121; font-style: italic">        If required attributes are missing in the point cloud graph.</span>

<span style="color: #BA2121; font-style: italic">    Returns</span>
<span style="color: #BA2121; font-style: italic">    -------</span>
<span style="color: #BA2121; font-style: italic">    None</span>
<span style="color: #BA2121; font-style: italic">        This method updates nodes in the graph with their computed descriptors as attributes.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph
    <span style="color: #3D7B7B; font-style: italic"># compute the descriptor for all the point in a quotient graph node</span>
    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;all_qg_cluster&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;coords&#39;</span>:
        <span style="color: #008000; font-weight: bold">for</span> qnode <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>:
            list_of_nodes_in_qnode <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> qnode]
            mat <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(list_of_nodes_in_qnode), <span style="color: #666">3</span>))
            i <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_in_qnode:
                mat[i] <span style="color: #666">=</span> G<span style="color: #666">.</span>nodes_coords[n]
                i <span style="color: #666">+=</span> <span style="color: #666">1</span>
            covmat <span style="color: #666">=</span> np<span style="color: #666">.</span>cov(np<span style="color: #666">.</span>transpose(mat))

            eigenval, eigenvec <span style="color: #666">=</span> np<span style="color: #666">.</span>linalg<span style="color: #666">.</span>eigh(covmat)

            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">1</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">0</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity2&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">1</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">0</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">1</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">2</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">1</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> (eigenval[<span style="color: #666">0</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">2</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">1</span>])
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;lambda1&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;lambda2&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">1</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;lambda3&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>]

    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;each_point&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;coords&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> neighborhood <span style="color: #666">==</span> <span style="color: #BA2121">&#39;radius&#39;</span>:
        <span style="color: #3D7B7B; font-style: italic"># compute a new pointcloudgraph with the neighborhood wanted</span>
        NewG <span style="color: #666">=</span> sgk<span style="color: #666">.</span>create_riemannian_graph(G<span style="color: #666">.</span>pcd, method<span style="color: #666">=</span>neighborhood, nearest_neighbors<span style="color: #666">=</span>neighborhood, radius<span style="color: #666">=</span>scale)

    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;each_point&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;coords&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> neighborhood <span style="color: #666">==</span> <span style="color: #BA2121">&#39;pointcloudgraph&#39;</span>:
        <span style="color: #3D7B7B; font-style: italic"># compute each descriptor for each point of the point cloud and its neighborhood</span>
        <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #A2F; font-weight: bold">in</span> G:
            mat <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(G[p]), <span style="color: #666">3</span>))
            i <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> G[p]:
                mat[i] <span style="color: #666">=</span> G<span style="color: #666">.</span>nodes_coords[n]
                i <span style="color: #666">+=</span> <span style="color: #666">1</span>
            covmat <span style="color: #666">=</span> np<span style="color: #666">.</span>cov(np<span style="color: #666">.</span>transpose(mat))

            eigenval, eigenvec <span style="color: #666">=</span> np<span style="color: #666">.</span>linalg<span style="color: #666">.</span>eigh(covmat)
            G<span style="color: #666">.</span>nodes[p][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">1</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">0</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            G<span style="color: #666">.</span>nodes[p][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">2</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">1</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            G<span style="color: #666">.</span>nodes[p][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            G<span style="color: #666">.</span>nodes[p][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> (eigenval[<span style="color: #666">0</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">2</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">1</span>])
        <span style="color: #3D7B7B; font-style: italic"># compute mean value for the qnode</span>
        <span style="color: #008000; font-weight: bold">for</span> qnode <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>:
            list_of_nodes_in_qnode <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> qnode]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>

            <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_in_qnode:
                <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;planarity&#39;</span>]
                <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;linearity&#39;</span>]
                <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;scattering&#39;</span>]
                <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)

    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;all_qg_cluster&#39;</span> <span style="color: #A2F; font-weight: bold">and</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;gradient_vector_fiedler&#39;</span>:
        <span style="color: #008000; font-weight: bold">for</span> qnode <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>:
            list_of_nodes_in_qnode <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> qnode]
            mat <span style="color: #666">=</span> np<span style="color: #666">.</span>zeros((<span style="color: #008000">len</span>(list_of_nodes_in_qnode), <span style="color: #666">3</span>))
            i <span style="color: #666">=</span> <span style="color: #666">0</span>
            <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_in_qnode:
                mat[i] <span style="color: #666">=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;direction_gradient&#39;</span>]
                i <span style="color: #666">+=</span> <span style="color: #666">1</span>
            covmat <span style="color: #666">=</span> np<span style="color: #666">.</span>cov(np<span style="color: #666">.</span>transpose(mat))

            eigenval, eigenvec <span style="color: #666">=</span> np<span style="color: #666">.</span>linalg<span style="color: #666">.</span>eigh(covmat)

            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;max_eigenval&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;planarity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">1</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">0</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;linearity&#39;</span>] <span style="color: #666">=</span> (eigenval[<span style="color: #666">2</span>] <span style="color: #666">-</span> eigenval[<span style="color: #666">1</span>]) <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;scattering&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> eigenval[<span style="color: #666">2</span>]
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;curvature_eig&#39;</span>] <span style="color: #666">=</span> eigenval[<span style="color: #666">0</span>] <span style="color: #666">/</span> (eigenval[<span style="color: #666">0</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">2</span>] <span style="color: #666">+</span> eigenval[<span style="color: #666">1</span>])
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.compute_nodes_coordinates" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_nodes_coordinates</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_nodes_coordinates" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_nodes_coordinates()
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute and assign average 3D coordinates to nodes in the quotient graph.</p>
<p>This function calculates the centroid coordinates for each node in the quotient
graph by computing the mean of the coordinates of the corresponding point cloud
graph nodes. These coordinates are subsequently stored as an attribute for each
node in the quotient graph. It provides a mechanism for visualizing the quotient
graph in 3D space.</p>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">228</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">229</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">230</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">231</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">232</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">233</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">234</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">235</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">236</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">237</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">238</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">239</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">240</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">241</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">242</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">243</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">244</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">245</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">246</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">247</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">248</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">249</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">250</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_nodes_coordinates</span>(<span style="color: #008000">self</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Compute and assign average 3D coordinates to nodes in the quotient graph.</span>

<span style="color: #BA2121; font-style: italic">    This function calculates the centroid coordinates for each node in the quotient</span>
<span style="color: #BA2121; font-style: italic">    graph by computing the mean of the coordinates of the corresponding point cloud</span>
<span style="color: #BA2121; font-style: italic">    graph nodes. These coordinates are subsequently stored as an attribute for each</span>
<span style="color: #BA2121; font-style: italic">    node in the quotient graph. It provides a mechanism for visualizing the quotient</span>
<span style="color: #BA2121; font-style: italic">    graph in 3D space.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph

    <span style="color: #3D7B7B; font-style: italic"># Calcul de coordonnées moyennes pour chaque noeud du graphe quotient, dans le but d&#39;afficher en 3D le graphe.</span>
    new_classif <span style="color: #666">=</span> np<span style="color: #666">.</span>asarray(<span style="color: #008000">list</span>((<span style="color: #008000">dict</span>(G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>))<span style="color: #666">.</span>values())))
    nodes_coords_moy <span style="color: #666">=</span> np<span style="color: #666">.</span>array([np<span style="color: #666">.</span>mean(G<span style="color: #666">.</span>nodes_coords[new_classif <span style="color: #666">==</span> n], axis<span style="color: #666">=0</span>) <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes])

    <span style="color: #3D7B7B; font-style: italic"># import scipy.ndimage as nd</span>
    <span style="color: #3D7B7B; font-style: italic"># nodes_coords_moy = np.transpose([nd.mean(G.nodes_coords[:,k],</span>
    <span style="color: #3D7B7B; font-style: italic">#                                          new_classif,</span>
    <span style="color: #3D7B7B; font-style: italic">#                                          index=list(self.nodes)) for k in range(3)])</span>
    <span style="color: #3D7B7B; font-style: italic">#</span>
    <span style="color: #3D7B7B; font-style: italic"># nodes_coords_moy = np.zeros((len(self), 3))</span>
    <span style="color: #3D7B7B; font-style: italic"># for j, n in enumerate(self.nodes):</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j] = np.mean(G.nodes_coords[new_classif == n], axis=0)</span>
    <span style="color: #3D7B7B; font-style: italic">#</span>
    <span style="color: #3D7B7B; font-style: italic">#     X = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     Y = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     Z = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     for i in range(pcd_attribute.shape[0]):</span>
    <span style="color: #3D7B7B; font-style: italic">#         if sorted_pcd_attribute_by_quotient_graph_attribute[i, 3] == n:</span>
    <span style="color: #3D7B7B; font-style: italic">#             X.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 0])</span>
    <span style="color: #3D7B7B; font-style: italic">#             Y.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 1])</span>
    <span style="color: #3D7B7B; font-style: italic">#             Z.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 2])</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 0] = np.mean(X)</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 1] = np.mean(Y)</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 2] = np.mean(Z)</span>

    <span style="color: #3D7B7B; font-style: italic"># new_classif = new_classif[:, np.newaxis]</span>
    <span style="color: #3D7B7B; font-style: italic"># pcd_attribute = np.concatenate([G.nodes_coords, new_classif], axis=1)</span>
    <span style="color: #3D7B7B; font-style: italic"># sorted_pcd_attribute_by_quotient_graph_attribute = pcd_attribute[np.argsort(pcd_attribute[:, 3])]</span>
    <span style="color: #3D7B7B; font-style: italic"># nodes_coords_moy = np.zeros((len(self), 3))</span>
    <span style="color: #3D7B7B; font-style: italic"># j = 0</span>
    <span style="color: #3D7B7B; font-style: italic"># for n in self.nodes:</span>
    <span style="color: #3D7B7B; font-style: italic">#     X = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     Y = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     Z = []</span>
    <span style="color: #3D7B7B; font-style: italic">#     for i in range(pcd_attribute.shape[0]):</span>
    <span style="color: #3D7B7B; font-style: italic">#         if sorted_pcd_attribute_by_quotient_graph_attribute[i, 3] == n:</span>
    <span style="color: #3D7B7B; font-style: italic">#             X.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 0])</span>
    <span style="color: #3D7B7B; font-style: italic">#             Y.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 1])</span>
    <span style="color: #3D7B7B; font-style: italic">#             Z.append(sorted_pcd_attribute_by_quotient_graph_attribute[i, 2])</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 0] = np.mean(X)</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 1] = np.mean(Y)</span>
    <span style="color: #3D7B7B; font-style: italic">#     nodes_coords_moy[j, 2] = np.mean(Z)</span>
    <span style="color: #3D7B7B; font-style: italic">#     j += 1</span>
    <span style="color: #008000">self</span><span style="color: #666">.</span>nodes_coordinates <span style="color: #666">=</span> nodes_coords_moy

    <span style="color: #008000; font-weight: bold">for</span> nodes <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes:
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[nodes][<span style="color: #BA2121">&#39;centroide_coordinates&#39;</span>] <span style="color: #666">=</span> np<span style="color: #666">.</span>nan
    i <span style="color: #666">=</span> <span style="color: #666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> nodes <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes:
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[nodes][<span style="color: #BA2121">&#39;centroide_coordinates&#39;</span>] <span style="color: #666">=</span> nodes_coords_moy[i, :]
        i <span style="color: #666">+=</span> <span style="color: #666">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.compute_quotientgraph_metadata_on_a_node_interclass" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_quotientgraph_metadata_on_a_node_interclass</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_quotientgraph_metadata_on_a_node_interclass" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_quotientgraph_metadata_on_a_node_interclass(node)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Computes metadata for a specific node in the quotient graph while focusing on interclass relationships.</p>
<p>This function analyzes the relationships of the node's neighbors that belong to different classes within
the quotient graph. It returns a dictionary that counts the occurrences of neighboring nodes belonging
to other classes relative to the specified node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>node</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#any">any</a></code>)
          –
          <div class="doc-md-description">
            <p>The node in the quotient graph for which the interclass metadata should be computed.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary where the keys are the different classes (quotient graph nodes)
and the values are the count of neighboring nodes belonging to those classes.</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <p>The function uses the 'quotient_graph_node' attribute of the nodes in the graph to determine
the class of each node. Nodes with the same 'quotient_graph_node' value are considered to
belong to the same class.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">312</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">313</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">314</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">315</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">316</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">317</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">318</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">319</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">320</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">321</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">322</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">323</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">324</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">325</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">326</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">327</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">328</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">329</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">330</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">331</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">332</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">333</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">334</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">335</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">336</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">337</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">338</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">339</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">340</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">341</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">342</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">343</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">344</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">345</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">346</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">347</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_quotientgraph_metadata_on_a_node_interclass</span>(<span style="color: #008000">self</span>, node):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Computes metadata for a specific node in the quotient graph while focusing on interclass relationships.</span>

<span style="color: #BA2121; font-style: italic">    This function analyzes the relationships of the node&#39;s neighbors that belong to different classes within</span>
<span style="color: #BA2121; font-style: italic">    the quotient graph. It returns a dictionary that counts the occurrences of neighboring nodes belonging</span>
<span style="color: #BA2121; font-style: italic">    to other classes relative to the specified node.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    node : any</span>
<span style="color: #BA2121; font-style: italic">        The node in the quotient graph for which the interclass metadata should be computed.</span>

<span style="color: #BA2121; font-style: italic">    Returns</span>
<span style="color: #BA2121; font-style: italic">    -------</span>
<span style="color: #BA2121; font-style: italic">    dict</span>
<span style="color: #BA2121; font-style: italic">        A dictionary where the keys are the different classes (quotient graph nodes)</span>
<span style="color: #BA2121; font-style: italic">        and the values are the count of neighboring nodes belonging to those classes.</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    The function uses the &#39;quotient_graph_node&#39; attribute of the nodes in the graph to determine</span>
<span style="color: #BA2121; font-style: italic">    the class of each node. Nodes with the same &#39;quotient_graph_node&#39; value are considered to</span>
<span style="color: #BA2121; font-style: italic">    belong to the same class.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph
    count <span style="color: #666">=</span> {}
    <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>[node]:
        count[c] <span style="color: #666">=</span> <span style="color: #666">0</span>

    list_of_nodes_G <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> node]
    <span style="color: #008000; font-weight: bold">for</span> ng <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_G:
        <span style="color: #008000; font-weight: bold">for</span> neing <span style="color: #A2F; font-weight: bold">in</span> G[ng]:
            <span style="color: #008000; font-weight: bold">if</span> G<span style="color: #666">.</span>nodes[ng][<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">!=</span> G<span style="color: #666">.</span>nodes[neing][<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>]:
                count[G<span style="color: #666">.</span>nodes[neing][<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>]] <span style="color: #666">+=</span> <span style="color: #666">1</span>

    <span style="color: #008000; font-weight: bold">return</span> count
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.compute_silhouette" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compute_silhouette</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.compute_silhouette" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>compute_silhouette(method<span style="color: #666">=</span><span style="color: #BA2121">&#39;topological&#39;</span>, data<span style="color: #666">=</span><span style="color: #BA2121">&#39;direction_gradient_vector_fiedler&#39;</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute the silhouette score for nodes in a point cloud graph based on clustering.</p>
<p>This function calculates silhouette scores for each node in a point cloud graph
based either on the "all_qg_cluster" or "topological" approach. The silhouette
score is a measure of how similar a node's association to its own cluster is
versus its association to neighboring, adjacent clusters. The results are stored
in the graph for individual nodes and quotient graph nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>method</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;topological&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The method used to compute the silhouette score. Acceptable values are
'all_qg_cluster' for traditional silhouette computation or 'topological'
for a more nuanced topology-based computation. Default is 'topological'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;direction_gradient_vector_fiedler&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Indicates the data used for silhouette computation. Options are
'direction_gradient_vector_fiedler' or 'norm_gradient_vector_fiedler',
determining the specific gradient vector field used in the calculation.
Default is 'direction_gradient_vector_fiedler'.</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <ul>
<li>For the 'all_qg_cluster' method, silhouette scores are based on the classical
  approach available in scikit-learn.</li>
<li>For the 'topological' method, silhouette calculation considers the dissimilarities
  with adjacent clusters only, leveraging adjacency matrices for the computations.</li>
<li>The computed silhouette scores are stored directly as node attributes in the
  underlying graph.</li>
<li>Quotient graph nodes' silhouette scores are computed as the average of individual
  nodes within the respective cluster.</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">495</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">496</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">497</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">498</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">499</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">500</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">501</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">502</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">503</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">504</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">505</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">506</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">507</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">508</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">509</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">510</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">511</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">512</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">513</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">514</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">515</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">516</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">517</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">518</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">519</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">520</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">521</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">522</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">523</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">524</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">525</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">526</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">527</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">528</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">529</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">530</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">531</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">532</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">533</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">534</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">535</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">536</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">537</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">538</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">539</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">540</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">541</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">542</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">543</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">544</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">545</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">546</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">547</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">548</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">549</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">550</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">551</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">552</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">553</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">554</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">555</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">556</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">557</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">558</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">559</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">560</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">561</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">562</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">563</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">564</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">565</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">566</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">567</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">568</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">569</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">570</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">571</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">572</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">573</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">574</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">575</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">576</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">577</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">578</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">579</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">580</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">581</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">582</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">583</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">584</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">585</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">586</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">587</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">588</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">589</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">590</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">591</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">592</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">593</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">594</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">595</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">596</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">597</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">598</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">599</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">600</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">601</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">602</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">603</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">604</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">605</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">606</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">607</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">608</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">609</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">610</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">611</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">612</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">613</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">614</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">615</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">616</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">617</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">618</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">619</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">620</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">621</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">622</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">623</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">compute_silhouette</span>(<span style="color: #008000">self</span>, method<span style="color: #666">=</span><span style="color: #BA2121">&#39;topological&#39;</span>, data<span style="color: #666">=</span><span style="color: #BA2121">&#39;direction_gradient_vector_fiedler&#39;</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Compute the silhouette score for nodes in a point cloud graph based on clustering.</span>

<span style="color: #BA2121; font-style: italic">    This function calculates silhouette scores for each node in a point cloud graph</span>
<span style="color: #BA2121; font-style: italic">    based either on the &quot;all_qg_cluster&quot; or &quot;topological&quot; approach. The silhouette</span>
<span style="color: #BA2121; font-style: italic">    score is a measure of how similar a node&#39;s association to its own cluster is</span>
<span style="color: #BA2121; font-style: italic">    versus its association to neighboring, adjacent clusters. The results are stored</span>
<span style="color: #BA2121; font-style: italic">    in the graph for individual nodes and quotient graph nodes.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    method : str, optional</span>
<span style="color: #BA2121; font-style: italic">        The method used to compute the silhouette score. Acceptable values are</span>
<span style="color: #BA2121; font-style: italic">        &#39;all_qg_cluster&#39; for traditional silhouette computation or &#39;topological&#39;</span>
<span style="color: #BA2121; font-style: italic">        for a more nuanced topology-based computation. Default is &#39;topological&#39;.</span>
<span style="color: #BA2121; font-style: italic">    data : str, optional</span>
<span style="color: #BA2121; font-style: italic">        Indicates the data used for silhouette computation. Options are</span>
<span style="color: #BA2121; font-style: italic">        &#39;direction_gradient_vector_fiedler&#39; or &#39;norm_gradient_vector_fiedler&#39;,</span>
<span style="color: #BA2121; font-style: italic">        determining the specific gradient vector field used in the calculation.</span>
<span style="color: #BA2121; font-style: italic">        Default is &#39;direction_gradient_vector_fiedler&#39;.</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    - For the &#39;all_qg_cluster&#39; method, silhouette scores are based on the classical</span>
<span style="color: #BA2121; font-style: italic">      approach available in scikit-learn.</span>
<span style="color: #BA2121; font-style: italic">    - For the &#39;topological&#39; method, silhouette calculation considers the dissimilarities</span>
<span style="color: #BA2121; font-style: italic">      with adjacent clusters only, leveraging adjacency matrices for the computations.</span>
<span style="color: #BA2121; font-style: italic">    - The computed silhouette scores are stored directly as node attributes in the</span>
<span style="color: #BA2121; font-style: italic">      underlying graph.</span>
<span style="color: #BA2121; font-style: italic">    - Quotient graph nodes&#39; silhouette scores are computed as the average of individual</span>
<span style="color: #BA2121; font-style: italic">      nodes within the respective cluster.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph
    label <span style="color: #666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> node <span style="color: #A2F; font-weight: bold">in</span> G:
        label<span style="color: #666">.</span>append(G<span style="color: #666">.</span>nodes[node][<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>])

    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;all_qg_cluster&#39;</span>:
        <span style="color: #3D7B7B; font-style: italic"># this method is based on the classical way to compute silhouette coefficients in the sci-kit learn module</span>

        <span style="color: #008000; font-weight: bold">if</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;direction_gradient_vector_fiedler&#39;</span>:
            sil <span style="color: #666">=</span> sk<span style="color: #666">.</span>metrics<span style="color: #666">.</span>silhouette_samples(G<span style="color: #666">.</span>direction_gradient_on_fiedler_scaled, label, metric<span style="color: #666">=</span><span style="color: #BA2121">&#39;euclidean&#39;</span>)
        <span style="color: #008000; font-weight: bold">elif</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;norm_gradient_vector_fiedler&#39;</span>:
            sil <span style="color: #666">=</span> sk<span style="color: #666">.</span>metrics<span style="color: #666">.</span>silhouette_samples(G<span style="color: #666">.</span>gradient_on_fiedler, label, metric<span style="color: #666">=</span><span style="color: #BA2121">&#39;euclidean&#39;</span>)

    <span style="color: #008000; font-weight: bold">if</span> method <span style="color: #666">==</span> <span style="color: #BA2121">&#39;topological&#39;</span>:
        <span style="color: #008000; font-weight: bold">import</span><span style="color: #BBB"> </span><span style="color: #00F; font-weight: bold">scipy.ndimage</span><span style="color: #BBB"> </span><span style="color: #008000; font-weight: bold">as</span><span style="color: #BBB"> </span><span style="color: #00F; font-weight: bold">nd</span>
        <span style="color: #008000; font-weight: bold">from</span><span style="color: #BBB"> </span><span style="color: #00F; font-weight: bold">sklearn.metrics</span><span style="color: #BBB"> </span><span style="color: #008000; font-weight: bold">import</span> pairwise_distances_chunked
        <span style="color: #3D7B7B; font-style: italic"># this method aims at comparing the cluster A of the point considered with the adjacent clusters of A.</span>
        X <span style="color: #666">=</span> []

        <span style="color: #008000; font-weight: bold">if</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;direction_gradient_vector_fiedler&#39;</span>:
            X <span style="color: #666">=</span> G<span style="color: #666">.</span>direction_gradient_on_fiedler_scaled
        <span style="color: #008000; font-weight: bold">elif</span> data <span style="color: #666">==</span> <span style="color: #BA2121">&#39;norm_gradient_vector_fiedler&#39;</span>:
            X <span style="color: #666">=</span> G<span style="color: #666">.</span>gradient_on_fiedler

        labels <span style="color: #666">=</span> np<span style="color: #666">.</span>array(label)

        label_list <span style="color: #666">=</span> np<span style="color: #666">.</span>array(<span style="color: #008000">self</span><span style="color: #666">.</span>nodes)

        label_adjacency <span style="color: #666">=</span> nx<span style="color: #666">.</span>adjacency_matrix(<span style="color: #008000">self</span>)<span style="color: #666">.</span>todense()<span style="color: #666">.</span>astype(<span style="color: #BA2121">&#39;float64&#39;</span>)
        label_adjacency <span style="color: #666">-=</span> <span style="color: #666">1</span> <span style="color: #666">*</span> np<span style="color: #666">.</span>eye(<span style="color: #008000">len</span>(label_adjacency))<span style="color: #666">.</span>astype(<span style="color: #BA2121">&#39;float64&#39;</span>)

        label_index <span style="color: #666">=</span> np<span style="color: #666">.</span>array([np<span style="color: #666">.</span>where(label_list <span style="color: #666">==</span> l)[<span style="color: #666">0</span>][<span style="color: #666">0</span>] <span style="color: #008000; font-weight: bold">for</span> l <span style="color: #A2F; font-weight: bold">in</span> labels])

        <span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">mean_by_label</span>(D_chunk, start):
<span style="color: #BBB">            </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Computes the mean of data points by label, excluding contributions from the current label.</span>

<span style="color: #BA2121; font-style: italic">            This function calculates the per-label mean of a given chunk of data points, while</span>
<span style="color: #BA2121; font-style: italic">            excluding contributions from the label currently being processed. It operates on an</span>
<span style="color: #BA2121; font-style: italic">            input chunk of data and associated labels, aggregating information based on the specified</span>
<span style="color: #BA2121; font-style: italic">            index labels.</span>

<span style="color: #BA2121; font-style: italic">            Parameters</span>
<span style="color: #BA2121; font-style: italic">            ----------</span>
<span style="color: #BA2121; font-style: italic">            D_chunk : np.ndarray</span>
<span style="color: #BA2121; font-style: italic">                A chunk of multi-dimensional data points split from the full dataset, where each row</span>
<span style="color: #BA2121; font-style: italic">                represents a data point.</span>
<span style="color: #BA2121; font-style: italic">            start : int</span>
<span style="color: #BA2121; font-style: italic">                The start index for the current chunk of data within the full dataset. Used to</span>
<span style="color: #BA2121; font-style: italic">                correctly align the chunk with the corresponding labels.</span>

<span style="color: #BA2121; font-style: italic">            Returns</span>
<span style="color: #BA2121; font-style: italic">            -------</span>
<span style="color: #BA2121; font-style: italic">            np.ndarray</span>
<span style="color: #BA2121; font-style: italic">                An array representing the mean value of data points grouped by label, excluding</span>
<span style="color: #BA2121; font-style: italic">                contributions from the current label. The size of the array matches the provided</span>
<span style="color: #BA2121; font-style: italic">                `D_chunk`.</span>
<span style="color: #BA2121; font-style: italic">            &quot;&quot;&quot;</span>
            label_mean <span style="color: #666">=</span> []
            chunk_labels <span style="color: #666">=</span> labels[start:start <span style="color: #666">+</span> <span style="color: #008000">len</span>(D_chunk)]
            <span style="color: #008000; font-weight: bold">for</span> line, label <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">zip</span>(D_chunk, chunk_labels):
                label_sum <span style="color: #666">=</span> nd<span style="color: #666">.</span>sum(line, labels, index<span style="color: #666">=</span>label_list)
                label_count <span style="color: #666">=</span> nd<span style="color: #666">.</span>sum(np<span style="color: #666">.</span>ones_like(labels), labels, index<span style="color: #666">=</span>label_list)
                label_count <span style="color: #666">-=</span> label_list <span style="color: #666">==</span> label
                label_mean <span style="color: #666">+=</span> [label_sum <span style="color: #666">/</span> label_count]
            <span style="color: #008000; font-weight: bold">return</span> np<span style="color: #666">.</span>array(label_mean)

        gen <span style="color: #666">=</span> pairwise_distances_chunked(X, reduce_func<span style="color: #666">=</span>mean_by_label)

        start <span style="color: #666">=</span> <span style="color: #666">0</span>
        silhouette <span style="color: #666">=</span> []
        <span style="color: #008000; font-weight: bold">for</span> label_mean_dissimilarity <span style="color: #A2F; font-weight: bold">in</span> gen:
            chunk_label_index <span style="color: #666">=</span> label_index[start:start <span style="color: #666">+</span> <span style="color: #008000">len</span>(label_mean_dissimilarity)]

            adjacent_label_mean_dissimilarity <span style="color: #666">=</span> np<span style="color: #666">.</span>copy(label_mean_dissimilarity)
            adjacent_label_mean_dissimilarity[label_adjacency[chunk_label_index] <span style="color: #666">!=</span> <span style="color: #666">1</span>] <span style="color: #666">=</span> np<span style="color: #666">.</span>nan

            self_label_mean_dissimilarity <span style="color: #666">=</span> np<span style="color: #666">.</span>copy(label_mean_dissimilarity)
            self_label_mean_dissimilarity[label_adjacency[chunk_label_index] <span style="color: #666">!=</span> <span style="color: #666">-1</span>] <span style="color: #666">=</span> np<span style="color: #666">.</span>nan

            intra <span style="color: #666">=</span> np<span style="color: #666">.</span>nanmin(self_label_mean_dissimilarity, axis<span style="color: #666">=1</span>)
            inter <span style="color: #666">=</span> np<span style="color: #666">.</span>nanmin(adjacent_label_mean_dissimilarity, axis<span style="color: #666">=1</span>)

            silhouette <span style="color: #666">+=</span> <span style="color: #008000">list</span>((inter <span style="color: #666">-</span> intra) <span style="color: #666">/</span> np<span style="color: #666">.</span>maximum(inter, intra))
            start <span style="color: #666">+=</span> <span style="color: #008000">len</span>(label_mean_dissimilarity)

        sil <span style="color: #666">=</span> np<span style="color: #666">.</span>array(silhouette)

    i <span style="color: #666">=</span> <span style="color: #666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> node <span style="color: #A2F; font-weight: bold">in</span> G:
        G<span style="color: #666">.</span>nodes[node][<span style="color: #BA2121">&#39;silhouette&#39;</span>] <span style="color: #666">=</span> sil[i]
        i <span style="color: #666">+=</span> <span style="color: #666">1</span>
    <span style="color: #008000; font-weight: bold">for</span> qnode <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span>:
        list_of_nodes_in_qnode <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> qnode]
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;silhouette&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
        <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_in_qnode:
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;silhouette&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;silhouette&#39;</span>]
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[qnode][<span style="color: #BA2121">&#39;silhouette&#39;</span>] <span style="color: #666">/=</span> <span style="color: #008000">len</span>(list_of_nodes_in_qnode)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.count_local_extremum_of_Fiedler" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">count_local_extremum_of_Fiedler</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.count_local_extremum_of_Fiedler" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>count_local_extremum_of_Fiedler()
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Counts the local extrema of the Fiedler vector in the graph associated with each node.</p>
<p>The method utilizes a point cloud graph and updates the associated nodes
in the graph with the total number of local extrema of the Fiedler vector
belonging to their corresponding quotient graph nodes.</p>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">659</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">660</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">661</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">662</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">663</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">664</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">665</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">666</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">667</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">668</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">669</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">670</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">671</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">672</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">count_local_extremum_of_Fiedler</span>(<span style="color: #008000">self</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Counts the local extrema of the Fiedler vector in the graph associated with each node.</span>

<span style="color: #BA2121; font-style: italic">    The method utilizes a point cloud graph and updates the associated nodes</span>
<span style="color: #BA2121; font-style: italic">    in the graph with the total number of local extrema of the Fiedler vector</span>
<span style="color: #BA2121; font-style: italic">    belonging to their corresponding quotient graph nodes.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    G <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>point_cloud_graph
    G<span style="color: #666">.</span>find_local_extremum_of_Fiedler()
    <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes():
        <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[c][<span style="color: #BA2121">&#39;number_of_local_Fiedler_extremum&#39;</span>] <span style="color: #666">=</span> <span style="color: #666">0</span>
        list_of_nodes_r <span style="color: #666">=</span> [x <span style="color: #008000; font-weight: bold">for</span> x, y <span style="color: #A2F; font-weight: bold">in</span> G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>) <span style="color: #008000; font-weight: bold">if</span> y[<span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>] <span style="color: #666">==</span> c]
        <span style="color: #008000; font-weight: bold">for</span> pt <span style="color: #A2F; font-weight: bold">in</span> list_of_nodes_r:
            <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[c][<span style="color: #BA2121">&#39;number_of_local_Fiedler_extremum&#39;</span>] <span style="color: #666">+=</span> G<span style="color: #666">.</span>nodes[pt][<span style="color: #BA2121">&#39;extrem_local_Fiedler&#39;</span>]
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.delete_empty_edges_and_nodes" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete_empty_edges_and_nodes</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.delete_empty_edges_and_nodes" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>delete_empty_edges_and_nodes()
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete edges from the quotient graph that do not represent any edges in the distance-based graph anymore.</p>
<p>Delete nodes from the quotient graph that do not represent any nodes of the distance-based graph.
Update of the topological structure by removal only.</p>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">349</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">350</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">351</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">352</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">353</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">354</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">355</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">356</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">357</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">358</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">359</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">360</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">361</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">362</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">363</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">364</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">365</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">366</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">367</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">delete_empty_edges_and_nodes</span>(<span style="color: #008000">self</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Delete edges from the quotient graph that do not represent any edges in the distance-based graph anymore.</span>

<span style="color: #BA2121; font-style: italic">    Delete nodes from the quotient graph that do not represent any nodes of the distance-based graph.</span>
<span style="color: #BA2121; font-style: italic">    Update of the topological structure by removal only.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    to_remove <span style="color: #666">=</span> []
    <span style="color: #008000">list</span> <span style="color: #666">=</span> [e <span style="color: #008000; font-weight: bold">for</span> e <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>edges]
    <span style="color: #008000; font-weight: bold">for</span> e <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">list</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666">.</span>edges[e[<span style="color: #666">0</span>], e[<span style="color: #666">1</span>]][<span style="color: #BA2121">&#39;inter_class_edge_number&#39;</span>] <span style="color: #666">==</span> <span style="color: #666">0</span>:
            to_remove<span style="color: #666">.</span>append(e)
    <span style="color: #008000">print</span>(to_remove)
    <span style="color: #008000">self</span><span style="color: #666">.</span>remove_edges_from(to_remove)
    to_remove <span style="color: #666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> n <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[n][<span style="color: #BA2121">&#39;intra_class_node_number&#39;</span>] <span style="color: #666">==</span> <span style="color: #666">0</span>:
            to_remove<span style="color: #666">.</span>append(n)
    <span style="color: #008000">self</span><span style="color: #666">.</span>remove_nodes_from(to_remove)
    <span style="color: #008000">print</span>(to_remove)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">ponderate_with_coordinates_of_points</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>ponderate_with_coordinates_of_points()
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Computes the weights of edges based on the centroid coordinates of their connected nodes.</p>
<p>This method first calculates the coordinates of the centroids for all nodes and then uses these
coordinates to calculate the distance between connected nodes in the graph. The calculated
distance is stored as an additional weight attribute for each edge.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points.self.nodes">self.nodes</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>A dictionary representing graph nodes where keys are node identifiers and values are
associated attributes, including 'centroide_coordinates'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="spectral_clustering.quotient_graph.QuotientGraph.ponderate_with_coordinates_of_points.self.edges">self.edges</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>A dictionary representing graph edges where keys are tuples of connected node identifiers
and values are associated attributes, including the new 'distance_centroides'.</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Notes</summary>
  <p>The edge weight 'distance_centroides' is calculated as the Euclidean distance between the
centroid coordinates of two nodes connected by the edge.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">257</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">258</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">259</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">260</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">261</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">262</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">263</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">264</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">265</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">266</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">267</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">268</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">269</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">270</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">271</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">272</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">273</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">274</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">275</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">276</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">277</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">278</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">279</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">280</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">281</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">282</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">283</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">284</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">285</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">286</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">ponderate_with_coordinates_of_points</span>(<span style="color: #008000">self</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Computes the weights of edges based on the centroid coordinates of their connected nodes.</span>

<span style="color: #BA2121; font-style: italic">    This method first calculates the coordinates of the centroids for all nodes and then uses these</span>
<span style="color: #BA2121; font-style: italic">    coordinates to calculate the distance between connected nodes in the graph. The calculated</span>
<span style="color: #BA2121; font-style: italic">    distance is stored as an additional weight attribute for each edge.</span>

<span style="color: #BA2121; font-style: italic">    Attributes</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    self.nodes : dict</span>
<span style="color: #BA2121; font-style: italic">        A dictionary representing graph nodes where keys are node identifiers and values are</span>
<span style="color: #BA2121; font-style: italic">        associated attributes, including &#39;centroide_coordinates&#39;.</span>
<span style="color: #BA2121; font-style: italic">    self.edges : dict</span>
<span style="color: #BA2121; font-style: italic">        A dictionary representing graph edges where keys are tuples of connected node identifiers</span>
<span style="color: #BA2121; font-style: italic">        and values are associated attributes, including the new &#39;distance_centroides&#39;.</span>

<span style="color: #BA2121; font-style: italic">    Notes</span>
<span style="color: #BA2121; font-style: italic">    -----</span>
<span style="color: #BA2121; font-style: italic">    The edge weight &#39;distance_centroides&#39; is calculated as the Euclidean distance between the</span>
<span style="color: #BA2121; font-style: italic">    centroid coordinates of two nodes connected by the edge.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    <span style="color: #008000">self</span><span style="color: #666">.</span>compute_nodes_coordinates()
    <span style="color: #3D7B7B; font-style: italic"># Calcul des poids</span>
    <span style="color: #008000; font-weight: bold">for</span> e <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">self</span><span style="color: #666">.</span>edges:
        n1 <span style="color: #666">=</span> e[<span style="color: #666">0</span>]
        n2 <span style="color: #666">=</span> e[<span style="color: #666">1</span>]
        c1 <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[n1][<span style="color: #BA2121">&#39;centroide_coordinates&#39;</span>]
        c2 <span style="color: #666">=</span> <span style="color: #008000">self</span><span style="color: #666">.</span>nodes[n2][<span style="color: #BA2121">&#39;centroide_coordinates&#39;</span>]
        dist <span style="color: #666">=</span> np<span style="color: #666">.</span>linalg<span style="color: #666">.</span>norm(c1 <span style="color: #666">-</span> c2)
        <span style="color: #008000">self</span><span style="color: #666">.</span>edges[e][<span style="color: #BA2121">&#39;distance_centroides&#39;</span>] <span style="color: #666">=</span> dist
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spectral_clustering.quotient_graph.QuotientGraph.rebuild" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">rebuild</span>


<a href="#spectral_clustering.quotient_graph.QuotientGraph.rebuild" class="headerlink" title="Permanent link">Link</a></h3>
<div class="language-python doc-signature highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>rebuild(G, clear<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>)
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rebuilds the internal structure based on the provided graph and its associated data.</p>
<p>This method processes the input graph and reinitializes the internal structure. If the
<code>clear</code> flag is set to True, any existing data in the internal structure is cleared
before rebuilding. The method extracts node attributes from the graph, transforms them
into a numpy array, and utilizes this array to rebuild the internal representation
from the given graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>G</code></b>
              (<code><a class="autorefs autorefs-internal" title="spectral_clustering.point_cloud_graph.PointCloudGraph" href="../point_cloud_graph/#spectral_clustering.point_cloud_graph.PointCloudGraph">PointCloudGraph</a></code>)
          –
          <div class="doc-md-description">
            <p>A graph structure that contains nodes with the attribute 'quotient_graph_node', which is
used to rebuild the internal data structure.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clear</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If <code>True</code>, clears the current internal structure before rebuilding.
Default is <code>True</code>.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>spectral_clustering/quotient_graph.py</code></summary>
              <div class="language-python highlight" style="background: #f8f8f8"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">288</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">289</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">290</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">291</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">292</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">293</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">294</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">295</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">296</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">297</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">298</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">299</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">300</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">301</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">302</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">303</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">304</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">305</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">306</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">307</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">308</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">309</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">310</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">rebuild</span>(<span style="color: #008000">self</span>, G, clear<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>):
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Rebuilds the internal structure based on the provided graph and its associated data.</span>

<span style="color: #BA2121; font-style: italic">    This method processes the input graph and reinitializes the internal structure. If the</span>
<span style="color: #BA2121; font-style: italic">    `clear` flag is set to True, any existing data in the internal structure is cleared</span>
<span style="color: #BA2121; font-style: italic">    before rebuilding. The method extracts node attributes from the graph, transforms them</span>
<span style="color: #BA2121; font-style: italic">    into a numpy array, and utilizes this array to rebuild the internal representation</span>
<span style="color: #BA2121; font-style: italic">    from the given graph.</span>

<span style="color: #BA2121; font-style: italic">    Parameters</span>
<span style="color: #BA2121; font-style: italic">    ----------</span>
<span style="color: #BA2121; font-style: italic">    G : spectral_clustering.point_cloud_graph.PointCloudGraph</span>
<span style="color: #BA2121; font-style: italic">        A graph structure that contains nodes with the attribute &#39;quotient_graph_node&#39;, which is</span>
<span style="color: #BA2121; font-style: italic">        used to rebuild the internal data structure.</span>
<span style="color: #BA2121; font-style: italic">    clear : bool, optional</span>
<span style="color: #BA2121; font-style: italic">        If ``True``, clears the current internal structure before rebuilding.</span>
<span style="color: #BA2121; font-style: italic">        Default is ``True``.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
    <span style="color: #008000; font-weight: bold">if</span> clear:
        <span style="color: #008000">self</span><span style="color: #666">.</span>clear()
    labels_qg <span style="color: #666">=</span> [k <span style="color: #008000; font-weight: bold">for</span> k <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">dict</span>(G<span style="color: #666">.</span>nodes(data<span style="color: #666">=</span><span style="color: #BA2121">&#39;quotient_graph_node&#39;</span>))<span style="color: #666">.</span>values()]
    labels_qg_re <span style="color: #666">=</span> np<span style="color: #666">.</span>asarray(labels_qg)[:, np<span style="color: #666">.</span>newaxis]
    <span style="color: #008000">self</span><span style="color: #666">.</span>build_from_pointcloudgraph(G, labels_qg_re)
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The ROMI project has received funding from the European Community’s H2020 Programme under Grant Agreement No. 773875.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ROMI_EU_PROJECT" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/ROMIEUProject" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/romi/spectral-clustering" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/repository/docker/roboticsmicrofarms/plantimager/general" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../../../assets/_markdown_exec_pyodide.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://buttons.github.io/buttons.js"></script>
      
    
  </body>
</html>